hht501.01.chgcode=SOM_1STCOUNT
SOM_1STCOUNT_VIEW=stk_1stcount

hht601.02.chgcode=SOM_2NDCOUNT
SOM_2NDCOUNT_VIEW=stk_2ndcount





#
hht001.02.chgcode=WMS_TRFHHT
hht001.03.chgcode=WMS_TRFHHT
hht001.04.chgcode=WMS_TRFHHT
hht002.02.chgcode=WMS_TRFHHT
hht002.03.chgcode=WMS_TRFHHT
WMS_TRFHHT=schema.jdaid2hf,schema.jdaid2df,schema.jdaod6f
WMS_TRFHHT_VIEW=HHTOD6V2,HTID7F

# in 002.05 module,simulate a new instruction 002.06 to save chgcode HHT_TODMS
hht002.06.chgcode=HHT_TODMS
HHT_TODMS=schema.hhtrcdiff
HHT_TODMS_VIEW=hhtrcdiff

#
hht004.02.chgcode=WMS_RAFHHT
hht004.03.chgcode=WMS_RAFHHT
WMS_RAFHHT=schema.jdaid1hf
WMS_RAFHHT_VIEW=JDAID4F

#
hht005.02.chgcode=WMS_POHHT
#hht005.05.chgcode=WMS_POHHT
WMS_POHHT=schema.jdaid1hf,schema.jdaid1df,schema.jdaod6f
WMS_POHHT_VIEW=HHTOD5,HHTOD6

#
hht101.04.chgcode=HHT_C4FHHT
hht103.03.chgcode=HHT_C4FHHT
hht1043.01.01=select plu_no as sku, plu_name as sku_dsc, plu_qty as sku_qty from schema.stk_group_sku where sto_no \= ? and stk_group_id \= ? and SKU_STATUS \= 'A'

hht104.03.chgcode=HHT_C4FHHT
hht105.02.chgcode=HHT_C4FHHT
hht106.02.chgcode=HHT_C4FHHT
HHT_C4FHHT=schema.jdaic1hf,schema.jdaic1df
HHT_C4FHHT_VIEW=HTIC4F

#
hht202.02.chgcode=HHT_C6FHHT
HHT_C6FHHT=schema.jdaic1df,schema.jdaic1hf
#HHT_C6FHHT_VIEW=htic6f,htic7f
HHT_C6FHHT_VIEW=htic6f

#\u65b0\u589e\u7684\u4e00\u4e9bchgingst
hht701.02.chgcode=SOM_EXTCOUNT
SOM_EXTCOUNT=sehema.stk_ext_count
SOM_EXTCOUNT_VIEW=som_extcount

hht1033.02.chgcode=SOM_PDJH
SOM_PDJH=sehema.stk_loclab
SOM_PDJH_VIEW=som_pdjh

hht1034.02.chgcode=SOM_AFJQ
SOM_AFJQ=schema.stk_sku_prt
SOM_AFJQ_VIEW=som_afjq

hht1035.02.chgcode=SOM_XDSP
SOM_XDSP=schema.stk_group
SOM_XDSP_VIEW=som_group

hht1043.02.chgcode=HHT_ENDBKT
HHT_ENDBKT=schema.stk_group
HHT_ENDBKT_VIEW=som_group

hht108.02.chgcode=HHT_C9FHHT
hht109.02.chgcode=HHT_C9FHHT
hht110.02.chgcode=HHT_C9FHHT
hht111.02.chgcode=HHT_C9FHHT
hht112.02.chgcode=HHT_C9FHHT
HHT_C9FHHT=schema.hto_order
HHT_C9FHHT_VIEW=HHT_C9FHHT


hht001.01=Select HHTSTA as state from schema.jdaid2hf where HHTCNO=?


hht001.02=Select HHTSTA, HHTNO as \u8c03\u62e8\u5355\u53f7,HHTTYP as \u8c03\u62e8\u7c7b\u578b, CRTUSER from schema.jdaid2hf where HHTCNO\=?


hht001.02.01=Update schema.jdaid2df set INSTNO =?, HHTRQT=HHTPQT where HHTCNO =?
hht001.02.02=Insert into schema.jdaod6f (INSTNO, D6SHTP, D6CASN, D6LCRC, D6SKU, D6LCRQ, HHTFLC, HHTTLC) values(?,'TRF',?,'03',?,?,?,?)
hht001.02.03=Update schema.jdaid2hf set INSTNO\=?,TRSFYN\='N', HHTSTA\='2', CRTUSER\=?,CRTDATE\=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO \=?
hht001.02.04=select * from schema.jdaid2df where HHTCNO =?


hht001.03=Select HHTSTA,CRTUSER,HHTFLC,HHTTLC from schema.jdaid2hf where HHTCNO=?
hht001.03.01=Update schema.jdaid2df set INSTNO =?, HHTRQT=0 where HHTCNO =?
hht001.03.02=Insert into schema.jdaod6f (INSTNO, D6SHTP, D6CASN, D6LCRC, D6SKU, D6LCRQ, HHTFLC, HHTTLC) values(?,'TRF',?,'01',?,?,?,?)
hht001.03.03=Update schema.jdaid2hf set INSTNO\=?,TRSFYN\='N', HHTSTA\='2', CRTUSER\=?,CRTDATE\=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO \=?
hht001.03.04=select * from schema.jdaid2df where HHTCNO =?


hht001.04=Select HHTSTA,CRTUSER,HHTFLC,HHTTLC from schema.jdaid2hf where HHTCNO=?
hht001.04.01=Update schema.jdaid2df set INSTNO =?, HHTRQT=0 where HHTCNO =?
hht001.04.02=Insert into schema.jdaod6f (INSTNO, D6SHTP, D6CASN, D6LCRC, D6SKU, D6LCRQ, HHTFLC, HHTTLC) values(?,'TRF',?,'03',?,?,?,?)
hht001.04.03=Update schema.jdaid2hf set INSTNO\=?,TRSFYN\='N', HHTSTA\='2', CRTUSER\=?,CRTDATE\=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO \=?
hht001.04.04=select * from schema.jdaid2df where HHTCNO =?


hht001.05=Select HHTSTA from schema.jdaid2hf where HHTCNO=?
hht001.05.01=Update schema.jdaid2hf set HHTSTA='1' , CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO =?


hht001.06=Select HHTSTA from schema.jdaid2hf where HHTCNO=?
hht001.06.01=Update schema.jdaid2hf set HHTSTA='0' , CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO =?


hht002.01.01=Select a.HHTSKU, HHTDSC, b.HHTUNT, HHTPQT, ifnull(c.HHTUPC,'') as UPC,b.hhtipc as IPC,a.HHTRQT from schema.jdaid2df a left join schema.htoa1f b on a.hhtsku\=b.hhtsku left join schema.htoa3f c on b.hhtsku \= c.hhtsku where HHTCNO \= ?
#hht002.01.01=Select a.HHTSKU, b.HHTDSC, a.HHTPQT,a.HHTRQT from schema.jdaid2df a left join schema.htoa2f b on a.hhtsku=b.hhtsku where HHTCNO = ?
hht002.01.02=Select HHTSTA as state,CRTUSER from schema.jdaid2hf where HHTCNO=?

hht002.02=Select HHTSTA,HHTFLC,HHTTLC from schema.jdaid2hf where HHTCNO=?
hht002.02.01=Update schema.jdaid2df set INSTNO =?, HHTRQT=? where HHTCNO =? and HHTSKU =?
hht002.02.02=Insert into schema.jdaod6f (INSTNO, D6SHTP, D6CASN, D6LCRC, D6SKU, D6LCRQ, HHTFLC, HHTTLC) values (?,'TRF',?,?,?,?,?,?)
hht002.02.03=Update schema.jdaid2hf set INSTNO=?, TRSFYN='N', HHTSTA='2', CRTUSER=?,CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO =?
hht002.02.04=select ifnull(hhtpqt,'0') as hhtpqt from schema.jdaid2df where hhtcno =? and HHTSKU=?
hht002.02.05=insert into schema.htob1f (INSTNO, HHTDAT,HHTSTR,HHTSKU,HHTHAN) values (?,DATE_FORMAT(NOW(), '%Y%m%d'),?,?,?)
hht002.02.06=update schema.htob1f set hhthan = hhthan + ifnull(?,0),hhtdat = DATE_FORMAT(NOW(), '%Y%m%d') where hhtsku = ?
hht002.02.07=select 1 from schema.htob1f where HHTSKU=?
hht002.02.08=select user_cname from schema.sys4000 where user_no\=? 
hht002.02.09=insert into schema.HHTRCDIFF(INSTNO,LOCATION,BTNO,SHTP,CASN,SKU,SKUDSC,SHPQTY,WHQTY,LCQTY,LCRC,PHOTO,CRTUSR,CRTUSRNM,CRTDATE) values(?,?,?,'TRF',?,?,?,?,?,?,?,?,?,?,curdate()) 
hht002.02.10=select hhtwav from schema.jdaid2hf where hhtcno \=?  
hht002.02.11=select HHTDSC from schema.htoa1f where HHTSKU \=?
hht002.02.12=select HHTPQT from schema.jdaid2df where HHTCNO \=? and HHTSKU \=?
hht002.02.13=select * from schema.jdaid2hf where HHTCNO \= ? and HHTFLC \= '13196'
hht002.05=Update schema.jdaid2hf set HHTSTA='0' , CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where HHTCNO =? and HHTSTA='1'


hht003.01=SELECT TBLVAL as reason, TBLDSC as 'desc' FROM schema.hhtinit WHERE TBLNAM\='SHTREA' AND TBLVAL<>''


hht004.01=select D1SHNB as PO\u5355\u53f7 ,D1STAT as \u6536\u8d27\u72b6\u6001,D1SHPD as \u9884\u8ba1\u5230\u8d27\u65e5 ,CRTUSER as \u64cd\u4f5c\u4eba from schema.jdaid1hf where D1SHTP \= 'PO' and D1SHPD between ? and ? and ifnull(CRTUSER,'') like ? and ifnull(D1STAT,'') like ? and D1SHNB like ?


hht004.02=Select D1STAT from schema.jdaid1hf where D1SHNB =?
hht004.02.01=Update schema.jdaid1hf set D1STAT ='3', INSTNO=?,TRSFYN='N', CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where D1STAT = '1' and D1SHNB =?


hht004.03=Select D1STAT, CRTUSER, D1TRLC from schema.jdaid1hf where D1SHNB =?
hht004.03.01=Update schema.jdaid1hf set D1STAT =?, INSTNO=?,TRSFYN='N', CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where D1STAT = '3' and D1SHNB =?
hht004.03.02=Update schema.jdaid1hf set D1STAT =?, INSTNO=?,TRSFYN='N', CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where D1STAT = '4' and D1SHNB =?
hht004.03.03=select D1TRLC from schema.jdaid1hf where D1STAT = '4' and D1SHNB =?


hht004.04.01=Update schema.jdaid1hf set D1STAT ='4', INSTNO=?,TRSFYN='N', CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where D1STAT = '3' and D1SHNB =?

hht005.01.00=select d1stat as STATE, ifnull(crtuser,'sys') as crtuser from schema.jdaid1hf where D1SHNB =?
#hht005.01.01=select D1SKU as SKU, HHTDSC as \u54c1\u540d ,D1REQT AS \u51fa\u8d27\u6570\u91cf,ifnull(B.D1SHQT,0) as \u6536\u8d27\u6570\u91cf,d.hhtvnd \u5382\u5546, a.D1SHNB AS \u5355\u636e\u53f7\u7801,D1TOLC \u8c03\u5165\u5e97,HHTVNM as \u5382\u5546\u63cf\u8ff0,if(isnull(D1TRLC),'\u76f4\u9001','\u4ee3\u4e2d\u8f6c') as \u5382\u5546\u7c7b\u578b from schema.jdaid1df B left join schema.htoa2f C on B. D1SKU\=C. HHTSKU, schema.jdaid1hf A left join schema.htoa4f D on A.d1stlc \= d.HHTVND where A.D1SHTP \='PO' AND A.D1SHNB \=B.D1SHNB and a.D1SHNB\=?
hht005.01.01=select D1SKU as SKU, HHTDSC as \u54c1\u540d ,D1REQT AS \u51fa\u8d27\u6570\u91cf,ifnull(B.D1SHQT,0) as \u6536\u8d27\u6570\u91cf,d.hhtvnd \u5382\u5546, a.D1SHNB AS \u5355\u636e\u53f7\u7801,D1TOLC \u8c03\u5165\u5e97,HHTVNM as \u5382\u5546\u63cf\u8ff0, ifnull(e.HHTUPC,'') as UPC,c.HHTIPC as IPC,if(isnull(D1TRLC),'\u76f4\u9001','\u4ee3\u4e2d\u8f6c') as \u5382\u5546\u7c7b\u578b from schema.jdaid1df B left JOIN schema.htoa3f E ON B.D1SKU \= E.HHTSKU left join schema.htoa1f C on B. D1SKU\=C. HHTSKU, schema.jdaid1hf A left join schema.htoa4f D on A.d1stlc \= d.HHTVND where A.D1SHTP \='PO' AND A.D1SHNB \=B.D1SHNB and a.D1SHNB\=?


hht005.02.01=Select D1STAT from schema.jdaid1hf where D1SHNB =?
hht005.02.02=Update schema.jdaid1df set D1SHQT =?, INSTNO=? where D1SHNB=? and D1SKU =?
hht005.02.03=Update schema.jdaid1hf set D1STAT ='5', INSTNO=?,TRSFYN='N', CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where D1SHNB=?
hht005.02.04=Insert into schema.jdaod6f (INSTNO, D6SHTP, D6CNO, D6LCRC, D6SKU, D6LCRQ, HHTFLC, HHTTLC) values(?,'PO',?,?,?,?,?,?)
hht005.02.05=select ifnull(D1SHQT,'0') as hhtpqt from schema.jdaid1df where D1SHNB =? and D1SKU=?
hht005.02.06=insert into schema.htob1f (INSTNO, HHTDAT,HHTSTR,HHTSKU,HHTHAN) values (?,DATE_FORMAT(NOW(), '%Y%m%d'),?,?,?)
hht005.02.07=update schema.htob1f set hhthan = hhthan + ifnull(?,0),hhtdat = DATE_FORMAT(NOW(), '%Y%m%d') where hhtsku = ?
hht005.02.08=select 1 from schema.htob1f where HHTSKU=?
hht005.02.09=insert into schema.HHTRCDIFF(INSTNO,LOCATION,BTNO,SHTP,CASN,SKU,SKUDSC,SHPQTY,WHQTY,LCQTY,LCRC,PHOTO,CRTUSR,CRTUSRNM,CRTDATE) values(?,?,?,'PO',?,?,?,?,?,?,?,?,?,?,curdate())
hht005.02.10=select b.D1REQT as D1REQT from schema.jdaid1df B join schema.jdaid1hf A on A.D1SHNB \=B.D1SHNB where a.D1SHNB \=? and b.D1SKU \=? 

hht005.05.01=Update schema.jdaid1hf set D1STAT ='3', CRTUSER=?, CRTDATE=DATE_FORMAT(NOW(), '%Y%m%d') where D1SHNB =?


hht101.01.01=SELECT b.hhtsku SKU, d.A7VND \u5382\u5546\u4ee3\u7801, HHTfLC \u8c03\u5165\u5e97, c.hhtdsc \u5546\u54c1\u540d\u79f0,HHTAQT \u95e8\u5e97\u7533\u8bf7\u6570\u91cf, HHTSRN \u9000\u8d27\u539f\u56e0, TBLDSC \u9000\u8d27\u63cf\u8ff0,a.HHTRAMT \u5df2\u9000\u91d1\u989d, A7VNDN \u5382\u5546\u540d\u79f0, c.HHTDSC \u54c1\u540d, HHTVRG \u6210\u672c, A7BAL \u53ef\u9000\u91d1\u989d,hhthan \u5e93\u5b58, f.hhtipc as IPC FROM schema.jdaic1hf a left join schema.htoa7f d on a.HHTTLC \= d.A7VND, schema.jdaic1df b LEFT JOIN schema.htoa2f c ON b.hhtsku \= c.hhtsku LEFT JOIN schema.htoa1f f on b.hhtsku \= f.hhtsku LEFT JOIN (SELECT TBLVAL, TBLDSC FROM schema.hhtinit WHERE TBLNAM\='RTVPTY' AND TBLVAL<>'') e on TBLVAL\=HHTSRN,schema.htob1f b1f WHERE a.HHTCNO \= b.HHTCNO and a.HHTCNO\=? and c.HHTSTR\=? and b.hhtsku \= b1f.hhtsku
hht101.01.02=Select a.HHTSTS state,HHTOCD type from schema.jdaic1hf a, schema.jdaic1df b left join schema.htoa2f c on b.hhtsku\= c.hhtsku where a.HHTCNO \= b.HHTCNO and a.HHTCNO\=? and c.HHTSTR\=?
hht101.02.01=Select HHTVNM AS\u5382\u5546\u540d\u79f0, ifnull(A7BAL,0) \u53ef\u9000\u91d1\u989d,HHTVF1,HHTVF2, HHTVTP,HHTVF4 from schema.htoa4f a left join schema.htoa7f b on b.a7vnd \= a.HHTVND where a.HHTVND\= ? and( HHTVTP<>'2' and HHTVTP<>'5')
hht101.03.01=Select HHTDSC,HHTHAN,HHTVRG,HHTDAC, HHTVTN from schema.htob1f A ,schema.htoa2f B where a.HHTSKU \=? and A.HHTSTR \=? and a. HHTSTR\= b. HHTSTR and a. HHTSKU\=b. HHTSKU and b. hhtvnd\=?
#hht101.02.03=Select HHTDSC,HHTSAV,HHTVRG from schema.htob1f A ,schema.htoa2f B where a.HHTSKU =? and A.HHTSTR =? and a. HHTSTR= b. HHTSTR and a. HHTSKU=b. HHTSKU
hht101.03.02=SELECT b.HHTDSC as \u54c1\u540d, HHTVRG \u6210\u672c, HHTDAC, B.HHTVTN, HHTVF1, HHTVF2, a.HHTHAN as \u5e93\u5b58 , a.HHTSKU, c.HHTVTP, ifnull(d.HHTUPC,'') as UPC,e.hhtipc as IPC,IF ((b.HHTDAC IS NULL),b.HHTSTS,CONCAT(b.HHTSTS, '-', b.HHTDAC)) STATUS FROM schema.htob1f A LEFT JOIN schema.htoa2f B ON a. HHTSTR \= b. HHTSTR and a.HHTSKU \= b.HHTSKU LEFT JOIN schema.htoa4f C ON b. hhtvnd \= C.HHTVND LEFT JOIN schema.htoa3f d ON a. HHTSKU \= d.HHTSKU LEFT JOIN schema.htoa1f e on a.HHTSKU \= e.HHTSKU WHERE ( a.HHTSKU \= ? or e.hhtipc \= ? or d.HHTUPC \= ? ) and A.HHTSTR \= ? and b. hhtvnd \= ? 

hht101.04.01=Insert into schema.jdaic1df (INSTNO,\tHHTSKU,\tHHTRQT,\tHHTAQT,\tHHTSRN,\tHHTCNO, HHTHNO, HHTOQT, HHTNO) Values (?,?,0,?,?,?,?,0,'')
#hht101.04.02=Insert into schema.jdaic1hf (HHTNO, HHTTYP, HHTSTS, HHTFLC, HHTTLC, HHTOCD, HHTRCW,HHTPNM,HHTEDT, HHTBDT, HHTMA1, HHTMA2, HHTESY, HHTHNO,HHTEUS, INSTNO,HHTUSER,HHTCRTDT,HHTCNO, TRSFYN) values ('','RTV','0',?,?,'RTV','','',DATE_FORMAT(NOW(), '%Y%m%d'),'','','','HHT',?,?,?, ?, DATE_FORMAT(NOW(), '%Y%m%d'),?,'N')
hht101.04.02.01=INSERT INTO schema.jdaic1hf (HHTNO, HHTTYP, HHTSTS, HHTFLC, HHTTLC, HHTOCD, HHTRCW, HHTPNM, HHTEDT, HHTBDT, HHTMA1, HHTMA2, HHTESY, HHTHNO, HHTEUS, INSTNO, HHTUSER, HHTCRTDT, HHTCNO, TRSFYN, HHTPCD, HHTVND ) VALUES ('', 'RTV', '0', ?, ?, 'RTV', '', '', DATE_FORMAT(NOW(), '%Y%m%d'), '', '', '', 'HHT', ?, ?, ?, ?, DATE_FORMAT(NOW(), '%Y%m%d'), ?, 'N','I', ? )
hht101.04.02.02=INSERT INTO schema.jdaic1hf ( HHTNO, HHTTYP, HHTSTS, HHTFLC, HHTTLC, HHTOCD, HHTRCW, HHTPNM, HHTEDT, HHTBDT, HHTMA1, HHTMA2, HHTESY, HHTHNO, HHTEUS, INSTNO, HHTUSER, HHTCRTDT, HHTCNO, TRSFYN, HHTPCD, HHTVND ) VALUES ( '', 'TRF', '0', ?, '13196', 'TRF', '', '', DATE_FORMAT(NOW(), '%Y%m%d'), '', '', '', 'HHT', ?, ?, ?, ?, DATE_FORMAT(NOW(), '%Y%m%d'), ?, 'N', '7', ? ) 
hht101.04.03=Delete from schema.jdaic1hf where HHTCNO \=? and HHTTYP \='RTV' and HHTSTS\='0'
hht101.04.04=Delete from schema.jdaic1df where HHTCNO =?


hht102.01.01=SELECT TBLVAL, TBLDSC FROM schema.hhtinit WHERE TBLNAM='RTVPTY' AND TBLVAL<>''


hht103.01.01=Select DISTINCT(a.HHTSTS) state,HHTOCD type from schema.jdaic1hf a, schema.jdaic1df b left join schema.htoa2f c on b.hhtsku\= c.hhtsku where a.HHTCNO \= b.HHTCNO and a.HHTCNO\=? and c.HHTSTR\=? and a.HHTOCD\='TRF'
hht103.01.02=Select b.HHTSKU, HHTAQT \u95e8\u5e97\u7533\u8bf7\u6570\u91cf, HHTDSC \u54c1\u540d,d.HHTHAN \u5e93\u5b58,c.HHTVRG \u6210\u672c,TBLVAL \u9000\u8d27\u539f\u56e0,TBLDSC as \u9000\u8d27\u63cf\u8ff0 from schema.jdaic1hf a, schema.jdaic1df b left join schema.htoa2f c on b.HHTSKU \= c.HHTSKU left join schema.htob1f d on b.HHTSKU \= d.HHTSKU left join (SELECT TBLVAL, TBLDSC FROM schema.hhtinit WHERE TBLNAM\='RTVPTY' AND TBLVAL<>'') e on HHTSRN\=e.TBLVAL where b.HHTCNO \= a.HHTCNO and a.HHTCNO \=? and c.HHTSTR\=d.HHTSTR and c.HHTSTR\=? and a.HHTOCD\='TRF'


hht103.02=SELECT a.HHTDSC \u54c1\u540d, IFNULL(b.hhthan,0) \u5e93\u5b58, a.HHTSKU, IFNULL(c.HHTUPC,'') as UPC FROM schema.htoa1f a LEFT JOIN schema.htob1f b ON a.hhtsku \=b.hhtsku LEFT JOIN schema.htoa3f c ON a.hhtsku \=c.hhtsku where b.HHTSTR \=? and a.hhtsku \=?


hht103.03=Select count(1) cnt from schema.jdaic1hf where HHTCNO =? and HHTTYP ='TRF' and HHTSTS='1'
hht103.03.01=Insert into schema.jdaic1df (INSTNO,HHTSKU,HHTRQT,HHTAQT,HHTSRN,HHTCNO, HHTHNO, HHTOQT, HHTNO) Values (?,?,0,?,?,?,?,0,'')
hht103.03.02=Insert into schema.jdaic1hf (HHTNO, HHTTYP, HHTSTS, HHTFLC, HHTTLC, HHTOCD, HHTRCW,HHTPNM,HHTEDT, HHTBDT, HHTMA1, HHTMA2, HHTESY, HHTHNO,HHTEUS, HHTCNO,HHTUSER,HHTCRTDT,INSTNO, TRSFYN, HHTPCD, HHTVND) values ('','TRF','0',?,?,'TRF','','',DATE_FORMAT(NOW(), '%Y%m%d'),'','','','HHT',?,?,?, ?, DATE_FORMAT(NOW(), '%Y%m%d'),?,'N' ,'1' ,'')
hht103.03.03=Delete from schema.jdaic1hf where HHTCNO \=? and HHTTYP \='TRF' and HHTSTS\='0'
hht103.03.04=Delete from schema.jdaic1df where HHTCNO =?


hht104.01.01=SELECT CONCAT(a.HHTSTS,'',ifnull(d.HHTSUC,'O')) state, a.HHTOCD as type FROM schema.jdaic1hf a LEFT JOIN schema.jdaic5hf d ON a.HHTCNO \= d.HHTCNO , schema.jdaic1df b LEFT JOIN schema.htoa1f c ON b.hhtsku\= c.hhtsku WHERE a.HHTCNO \= b.HHTCNO and a.HHTOCD\= 'TRF' and a.HHTCNO\= ? 
hht104.01.02=Select b.HHTSKU, HHTAQT \u95e8\u5e97\u7533\u8bf7\u6570\u91cf, HHTDSC,d.HHTHAN \u5e93\u5b58, a.HHTTLC \u8c03\u5165\u5e97,c.hhtipc as IPC from schema.jdaic1hf a, schema.jdaic1df b left join schema.htoa1f c on b.HHTSKU \= c.HHTSKU left join schema.htob1f d on b.HHTSKU \= d.HHTSKU where b.HHTCNO \= a.HHTCNO and a.HHTCNO \=? and a.HHTOCD\='TRF'
hht104.02=SELECT a.HHTDSC \u54c1\u540d, IFNULL(b.hhthan,0) \u5e93\u5b58, a.HHTSKU, IFNULL(c.HHTUPC,'') as UPC,a.hhtipc as IPC FROM schema.htoa1f a LEFT JOIN schema.htob1f b ON a.hhtsku \= b.hhtsku LEFT JOIN schema.htoa3f c ON a.hhtsku \= c.hhtsku WHERE b.HHTSTR \= ? and (a.hhtsku \= ? or a.hhtipc \= ? or c.HHTUPC\=?)
hht104.05=SELECT REPLACE(a.HHTDSC,'"','') \u54c1\u540d,  a.HHTSKU, IFNULL(c.HHTUPC,'') as UPC,a.hhtipc as IPC FROM (select * from schema.htoa1f where hhtsku \=?)  a LEFT JOIN schema.htoa3f c ON a.hhtsku \= c.hhtsku


hht104.03=Select count(1) cnt from schema.jdaic1hf where HHTCNO =? and HHTTYP ='TRF' and HHTSTS='1'
hht104.03.01=Insert into schema.jdaic1df (INSTNO,	HHTSKU,		HHTRQT,	HHTAQT,	HHTSRN,		HHTCNO, HHTHNO, HHTOQT, HHTNO) Values (?,?,0,?,?,?,?,0,'')
#hht104.03.02=Insert into schema.jdaic1hf (HHTNO, HHTTYP, HHTSTS, HHTFLC, HHTTLC, HHTOCD, HHTRCW,HHTPNM,HHTEDT, HHTBDT, HHTMA1, HHTMA2, HHTESY, HHTHNO,HHTEUS, HHTCNO,HHTUSER,HHTCRTDT,INSTNO, TRSFYN) values ('','TRF','0',?,?,'TRF','','',DATE_FORMAT(NOW(), '%Y%m%d'),'','','','HHT',?,?,?, ?, DATE_FORMAT(NOW(), '%Y%m%d'),?,'N')
hht104.03.02.01=INSERT INTO schema.jdaic1hf ( HHTNO, HHTTYP, HHTSTS, HHTFLC, HHTTLC, HHTOCD, HHTRCW, HHTPNM, HHTEDT, HHTBDT, HHTMA1, HHTMA2, HHTESY, HHTHNO, HHTEUS, INSTNO, HHTUSER, HHTCRTDT, HHTCNO, TRSFYN, HHTPCD, HHTVND ) VALUES ( '', 'TRF', '0', ?, ?, 'TRF', '', '', DATE_FORMAT(NOW(), '%Y%m%d'), '', '', '', 'HHT', ?, ?, ?, ?, DATE_FORMAT(NOW(), '%Y%m%d'), ?, 'N', '1', '' ) 
hht104.03.03=Insert into schema.jdaic1df (HHTNO,	HHTSKU,	HHTUNT,	HHTRQT,	HHTAQT,	HHTSRN,	HHTNOT,	HHTCNO, HHTHNO, HHTOQT, HHTNO)Values ('',?,'',0,?,?, ?, ?,0,?)
hht104.03.04=Delete from schema.jdaic1hf where HHTCNO \=? and HHTTYP \='TRF' and HHTSTS\='0'
hht104.03.05=Delete from schema.jdaic1df where HHTCNO =?

hht104.04.01=select HHTCNO from schema.JDAIC1HF where hhtno=?

hht104.05.01=select A5FLG from schema.htoa5f t where t.A5STR = ? and t.A5FLG = '1'

hht105.01=Select \u54c1\u540d\uff0c\u5e93\u5b58 from \u5546\u54c1\u4e3b\u6863 where \u5546\u54c1\=? and sto_no \=?
hht105.01.01=SELECT b.HHTDSC as \u54c1\u540d, IFNULL(a.hhthan,0) as \u5e93\u5b58, HHTVRG as \u6210\u672c, a.HHTSKU, ifnull(c.HHTUPC,'') as UPC,d.hhtipc as IPC FROM schema.htob1f A LEFT JOIN schema.htoa2f B ON a.HHTsku \= b.HHTsku LEFT JOIN schema.htoa3f c ON a.HHTSKU \= c.HHTSKU LEFT JOIN schema.htoa1f d on a.hhtsku \= d.hhtsku WHERE ( a.HHTSKU \= ? or d.hhtipc \= ? or c.HHTUPC \= ? ) and A.HHTSTR \= ?
hht105.01.02=SELECT hhtsku from schema.jdac1h where hhtno \=?


#hht105.02=Select HHTNO,	HHTTYP,HHTSTS,	HHTFLC,	HHTTLC,	HHTOCD,	HHTRCW,HHTPNM,HHTEDT,	HHTEDT,	HHTMA1,	HHTMA2,	HHTESY,	HHTHNO,HHTEUS from schema.jdac1h Where HHTNO =? and HHTSTS = '1'

hht105.02.01=Insert into schema.jdaic1df (INSTNO,\tHHTSKU,\tHHTRQT,\tHHTAQT,\tHHTSRN, HHTHNO, HHTCNO, HHTOQT, HHTNO) Values (?,?,0,?,?,'',?,0,?)
hht105.02.02=Insert into schema.jdaic1hf (INSTNO, HHTNO,\tHHTTYP,HHTSTS,\tHHTFLC,\tHHTTLC,\tHHTOCD,\tHHTRCW,HHTPNM, HHTEDT, HHTBDT,HHTMA1,\tHHTMA2,\tHHTESY,\tHHTCNO,HHTEUS,\tHHTHNO,HHTUSER,HHTCRTDT, TRSFYN, HHTVND, HHTPCD)Values (?,?, ?, ?,?, ?, ?, ?, ?,?, ?, ?, ?, ?,?,?,'', ?, DATE_FORMAT(NOW(), '%Y%m%d'),'Y', ?, ?)
hht105.02.03=Select HHTNO,HHTTYP,HHTSTS, HHTFLC,HHTTLC,HHTOCD,HHTRCW,HHTPNM,HHTEDT,HHTEDT,\tHHTMA1,\tHHTMA2,\tHHTESY,\tHHTHNO,HHTEUS, HHTPCD, HHTRQT,HHTVND from schema.jdac1h Where HHTNO \=?
hht105.02.04=SELECT 1 FROM schema.jdaic5hf a , schema.jdac1h b WHERE a.hhtno = b.hhtno and a.hhtsuc = 'Y' and a.hhtno = ?


hht106.01=Select HHTTLC, b.HHTSKU SKU,HHTDSC \u54c1\u540d,Sum(b.HHTRQT) \u8981\u6c42\u603b\u6570,sum(c.HHTAQT) \u5b9e\u9000\u6570\u91cf from schema.jdaic1hf a, schema.jdaic1df b,(select HHTNO ,HHTSKU, HhTAQT from schema.jdac1h c where HHTNO \=? group by HHTNO,HHTSKU) c , schema.htoa2f d where a.HHTCNO \= b. HHTCNO and a.HHTNO \= ? and b.HHTSKU \=c.HHTSKU and a. HHTNO \=c. HHTNO and b.HHTSKU\=D.HHTSKU and d.HHTSTR\=? group by b.HHTSKU, HHTTLC
hht106.02.search=select count(hhtno) as HCOUNT from schema.jdac1h where hhtno \= ? group by hhtno
hht106.01.search=select ifnull(a.HHTTYP,'') as HHTTYP, ifnull(a.HHTSTS,'') as HHTSTS from schema.jdaic1hf a where a.hhtno \= ? 

hht106.01.01_head=SELECT DISTINCT '\u5382\u5546' type, HHTTLC id, HHTVNM \u76ee\u7684\u5730\u63cf\u8ff0 FROM schema.jdaic1hf a LEFT JOIN schema.htoa4f k ON HHTTLC \= k.hhtvnd, schema.jdaic1df b, ( SELECT HHTNO , HHTSKU, HhTRQT FROM schema.jdac1h c WHERE HHTNO \= ? GROUP BY HHTNO, HHTSKU ) c WHERE a.HHTNO \= ? and b.HHTSKU \= c.HHTSKU and a. HHTNO \= c. HHTNO GROUP BY b.HHTSKU, HHTTLC 
hht106.01.01_detail=SELECT b.HHTSKU SKU, HHTDSC \u54c1\u540d, b.HHTRQT \u8981\u6c42\u603b\u6570, IFNULL(b.HHTAQT,0) \u5b9e\u9000\u6570\u91cf,d.hhtipc AS IPC FROM ( SELECT hhtno, hhtsku, sum(hhtrqt) as hhtrqt, sum(hhtaqt) as hhtaqt FROM ( SELECT hhtno, hhtsku, sum(hhtrqt) as hhtrqt, sum(hhtaqt) as hhtaqt FROM schema.jdaic1df WHERE HHTNO \= ? GROUP BY hhtno, hhtsku UNION ALL SELECT HHTNO , HHTSKU, sum(HhTRQT) as HhTRQT, 0 as hhtaqt FROM schema.jdac1h WHERE HHTNO \= ? GROUP BY HHTNO, HHTSKU ) tblqty WHERE HHTNO \= ? GROUP BY hhtno, hhtsku ) b LEFT JOIN schema.htoa1f d ON d.HHTSKU\= b.HHTSKU WHERE b.HHTNO \= ? 

hht106.01.02_head=SELECT '\u8c03\u5165\u5e97' type, HHTTLC id, a5strn \u76ee\u7684\u5730\u63cf\u8ff0 FROM schema.jdaic1hf a LEFT JOIN schema.htoa5f k ON HHTTLC \= k.a5str, schema.jdaic1df b, ( SELECT hhttyp, HHTNO , HHTSKU, HhTRQT FROM schema.jdac1h c WHERE HHTNO \= ? GROUP BY hhttyp, HHTNO, HHTSKU ) c , schema.htoa1f d WHERE a.HHTCNO \= b. HHTCNO and a.HHTNO \= ? and b.HHTSKU \= c.HHTSKU and a. HHTNO \= c. HHTNO and b.HHTSKU \= D.HHTSKU and a.HHTNO \= b.hhtno GROUP BY b.HHTSKU, HHTTLC
hht106.01.02_detail=SELECT b.HHTSKU SKU, HHTDSC \u54c1\u540d, b.HHTRQT \u8981\u6c42\u603b\u6570, IFNULL(b.HHTAQT,0) \u5b9e\u9000\u6570\u91cf,d.hhtipc as IPC FROM ( SELECT hhtno, hhtsku, sum(hhtrqt) as hhtrqt, sum(hhtaqt) as hhtaqt FROM ( SELECT hhtno, hhtsku, sum(hhtrqt) as hhtrqt, sum(hhtaqt) as hhtaqt FROM schema.jdaic1df WHERE HHTNO \= ? GROUP BY hhtno, hhtsku UNION ALL SELECT HHTNO , HHTSKU, sum(HhTRQT) as HhTRQT, 0 as hhtaqt FROM schema.jdac1h WHERE HHTNO \= ? GROUP BY HHTNO, HHTSKU ) tblqty WHERE HHTNO \= ? GROUP BY hhtno, hhtsku ) b LEFT JOIN schema.htoa1f d ON d.HHTSKU\= b.HHTSKU WHERE b.HHTNO \= ? 


hht106.02=Select count(1) from schema.jdaic1hf where HHTNO = ? and HHTESY ='JDA' and HHTSTS = '1'
hht106.02.01=Update schema.jdaic1df set INSTNO\=?,HHTHNO\=? where HHTNO \= ?
hht106.02.02=Update schema.jdaic1hf set INSTNO\=?, TRSFYN\='N',HHTSTS\='0',HHTHNO\=? where HHTNO \= ?
hht106.02.03=Update schema.jdac1h set HHTSTS\='0' where HHTNO \= ?

hht107.01=select distinct HHTsku SKU,A.HHTCNO \u7bb1\u53f7,HHTAQT \u5b9e\u9000\u6570\u91cf,A.HHTNO RTV from schema.jdaic1df A LEFT JOIN schema.jdaic1hf B ON a.HHTNO\= b.hhtno where A.hhtno\=? and HHTsku \=?
hht107.02=Select HHTNO,	HHTTYP,HHTSTS,	HHTFLC,	HHTTLC,	HHTOCD,	HHTRCW,HHTPNM,HHTEDT,	HHTEDT,	HHTMA1,	HHTMA2,	HHTESY,	HHTHNO,HHTEUS from schema.jdac1h Where HHTNO =? and HHTSTS = '1'
hht107.02.01=Update schema.jdaic1df set HHTAQT\=? where HHTNO \=? and HHTCNO\=? and HHTSKU\=?

hht108.01.01 = SELECT HHTcNO, '\u7cfb\u7edf\u51fa\u8d27' HHTSTS FROM schema.JDAIC1HF WHERE (HHTCNO \= ? or HHTNO \= ?) AND HHTSTS = '4'
hht108.01.02 = SELECT HHTNO FROM schema.JDAIC6HF WHERE HHTNO \=?



hht108.02.01 = select * from schema.HTO_ORDER where (HHTSTS !='4' AND HHTSTS <> 'D') and (HHTCNO \= ? or HHTNO\= ?)

hht108.02.00 = SELECT C1.HHTTYP, IF(1>CHAR_LENGTH(C1.HHTNO),C5.hhtno,C1.HHTNO) HHTNO,C1.HHTHNO,C1.HHTCNO,C1.HHTFLC,C1.HHTTLC FROM schema.JDAIC1HF C1 left join schema.jdaic5hf C5 on C1.HHTCNO=C5.HHTCNO WHERE (C1.HHTCNO \= ? or C1.HHTNO \= ?) AND C1.HHTSTS = '4'

hht108.02.02 = Insert into schema.HTO_ORDER (HHTTYP,HHTHNO,HHTFLC,HHTTLC,HHTNO,HHTCNO,HHTSTS,HHTVOL,HHTWEI,HHTNUM,ORD_TIME,STK_OPR_USER,STK_OPR_TIME,INSTNO) values(?,?,?,?,?,?,'6',?,?,'1',?,?,?,?)

hht108.02.03 = Insert into schema.HTO_ORDER (HHTNO,HHTSTS,HHTVOL,HHTNUM,HHTWEI,ORD_TIME,STK_OPR_USER,STK_OPR_TIME,INSTNO) values(?,'6',?,'1',?,?,?,?,?)

hht109.01.01= SELECT HI.TBLDSC,HO.HHTVOL,HO.HHTNUM,HO.HHTCNO FROM schema.HTO_ORDER HO LEFT JOIN schema.HHTINIT HI ON HI.TBLVAL = HO.HHTCNO AND HI.TBLNAM = 'HTO_ORDER' WHERE HO.HHTCNO IN ('WLX000001','PSP000001','XLP000001','JCP000001') AND (HO.HHTSTS = '5' or HO.HHTSTS = '6')
hht109.02.01= Update schema.HTO_ORDER  SET HHTSTS ='6' , HHTVOL\=? , HHTNUM\=? , STK_OPR_TIME \=? , INSTNO \=? , STK_OPR_USER\=? , HHTHNO \=? where HHTCNO \=? and hhtsts <> '8' and hhtsts <>'D'
#hht201.01.01=select distinct HHTsku SKU,A.HHTCNO \u7bb1\u53f7,HHTAQT \u5b9e\u9000\u6570\u91cf,A.HHTNO RTV from schema.jdaic1df A LEFT JOIN schema.jdaic1hf B ON a.HHTNO\= b.hhtno where A.hhtno\=? and HHTsku \=?

hht110.01.01 = select HHTCNO, HHTVOL, HHTWEI from schema.HTO_ORDER where HHTSTS  ='6' and ORD_TIME >\= ? and ORD_TIME <\= ? and hhtno>\= ? and hhtno <\= ?
hht110.01.02 = select HHTCNO, HHTVOL, HHTWEI from schema.HTO_ORDER where HHTSTS  ='6' and ORD_TIME >\= ? and ORD_TIME <\= ? and hhtcno>\= ? and hhtcno <\= ?
hht110.01.03 = select HHTCNO,hhtvol,hhtwei from schema.hto_order where hhtsts='6' and hhtcno not in ('JCP000001','PSP000001','WLX000001','XLP000001') and STK_OPR_TIME >\= ? and STK_OPR_TIME <\= ?

hht110.02.01 = update schema.HTO_ORDER set hhtsts='D' where HHTNO \= ? or HHTcNO \= ? and hhtsts = '6'

hht111.01.01 = SELECT h.HHTCNO, (case when h.HHTSTS='6' then '\u5df2\u9884\u7ea6' else '\u5b9e\u7269\u51fa\u8d27' end ) as HHTSTS FROM schema.HTO_ORDER h, schema.jdaic1hf j  WHERE (h.HHTCNO \= ?  OR h.HHTNO \= ?) AND (j.HHTCNO \= ? OR j.hhtno \= ?) and h.HHTSTS in ('6','8')
hht111.01.02 = SELECT HHTCNO, '\u7cfb\u7edf\u51fa\u8d27' HHTSTS FROM JDAIC1HF WHERE (HHTCNO \=? or HHTNO \=?) AND HHTSTS ='4'
hht111.01.03 = SELECT HHTNO, '\u7cfb\u7edf\u51fa\u8d27' HHTSTS FROM JDAIC6HF where HHTNO \=?

hht111.02.01 = Update schema.HTO_ORDER SET HHTSTS ='8', STK_OPR_TIME \= ?, INSTNO\=? where (HHTCNO \= ? or HHTNO\= ?) and hhtsts = '6'
hht111.02.00 = select * from schema.HTO_ORDER where (HHTCNO \= ? or HHTNO \= ?) AND HHTSTS ='6'
hht111.02.02 = INSERT INTO schema.HTO_ORDER (HHTCNO,HHTSTS,ORD_TIME STK_OPR_USER,STK_OPR_TIME,INSTNO)values(?,'8',?,?,?,?)
hht111.02.03 = INSERT INTO schema.HTO_ORDER (HHTNO,HHTSTS,ORD_TIME STK_OPR_USER,STK_OPR_TIME,INSTNO)values(?,'8',?,?,?,?)
hht111.02.04 = SELECT C.SRCDAT SRCDAT,C.SRCTIM SRCTIM FROM schema.HTO_ORDER H LEFT JOIN schema.CHGINST C ON H.INSTNO=C.INSTNO  where HHTCNO \=? or HHTNO \= ?

hht112.01.01= SELECT HI.TBLDSC,HO.HHTVOL,HO.HHTNUM,HO.HHTCNO FROM schema.HTO_ORDER HO LEFT JOIN schema.HHTINIT HI ON HI.TBLVAL = HO.HHTCNO AND HI.TBLNAM = 'HTO_ORDER' WHERE HO.HHTCNO IN ('WLX000001','PSP000001','XLP000001','JCP000001') AND HO.HHTSTS = '6'
hht112.02.01= Update schema.HTO_ORDER  SET HHTSTS ='8' , HHTVOL\=? ,HHTNUM\=? ,STK_OPR_TIME \=? , INSTNO \=? where HHTCNO \=? and hhtsts = '6'
hht112.02.03 = INSERT INTO schema.hto_order(HHTTYP,HHTHNO,HHTCNO,HHTNO ,HHTFLC,HHTTLC,HHTSTS, HHTVOL, HHTNUM ,HHTWEI, ORD_TIME,STK_OPR_USER,STK_OPR_TIME,INSTNO)  VALUES('TRF', NULL, 'JCP000001', NULL, ?, '13196', '5', 0.0,0.0, 0.0, ?,?, ?,NULL)
hht112.02.04 =INSERT INTO schema.hto_order(HHTTYP,HHTHNO,HHTCNO,HHTNO ,HHTFLC,HHTTLC,HHTSTS, HHTVOL, HHTNUM ,HHTWEI, ORD_TIME,STK_OPR_USER,STK_OPR_TIME,INSTNO)  VALUES('TRF', NULL, 'PSP000001', NULL, ?, '13196', '5', 0.0,0.0, 0.0, ?,?,?,NULL)
hht112.02.05 =INSERT INTO schema.hto_order(HHTTYP,HHTHNO,HHTCNO,HHTNO ,HHTFLC,HHTTLC,HHTSTS, HHTVOL, HHTNUM ,HHTWEI, ORD_TIME,STK_OPR_USER,STK_OPR_TIME,INSTNO)  VALUES('TRF', NULL, 'WLX000001', NULL, ?, '13196', '5', 0.0,0.0, 0.0, ?,?,?,NULL)
hht112.02.06= INSERT INTO schema.hto_order(HHTTYP,HHTHNO,HHTCNO,HHTNO ,HHTFLC,HHTTLC,HHTSTS, HHTVOL, HHTNUM ,HHTWEI, ORD_TIME,STK_OPR_USER,STK_OPR_TIME,INSTNO)  VALUES('TRF', NULL, 'XLP000001', NULL, ?, '13196', '5', 0.0,0.0, 0.0, ?,?,?,NULL)



hht113.01.01 = select HHTCNO,hhtvol,hhtwei from schema.hto_order where hhtsts='8' and hhtcno not in ('JCP000001','PSP000001','WLX000001','XLP000001') and STK_OPR_TIME >\= ? and STK_OPR_TIME <\= ? union select ifnull(HHTNO,HHTcNO) HHTCNO,hhtvol, hhtnum hhtwei from schema.hto_order where hhtsts = '8' and hhtcno in ('JCP000001','PSP000001','WLX000001','XLP000001') and STK_OPR_TIME >\= ? and STK_OPR_TIME <\= ? and hhtnum <> 0

hht201.01.02=select a.hhtno \u5355\u53f7,b.hhtcno \u7bb1\u53f7,b.hhttyp \u7c7b\u578b,hhtsuc \u72b6\u6001 from schema.jdaic5hf a,schema.jdaic1hf b where a.hhtcno \= b.hhtcno 
hht201.01.03=delete from schema.jdaic5hf where hhtcno\= ? and hhtsuc\= 'N'
hht201.01.04=delete from schema.jdaic5df where hhtcno\= ? and hhtsku is not null


hht202.01.01=Select a.hhtcno \u7bb1\u53f7, b.HHTTYP, a.hhtno,CONCAT(b.HHTSTS,'',ifnull(a.HHTSUC,'O')) state from schema.jdaic5hf a left join schema.jdaic1hf b on a.hhtcno\=b.hhtcno where a.hhtno\=?

hht202.01.02=select distinct(hhtflc) \u8c03\u51fa\u5e97\u4ee3\u53f7,hhttlc \u8c03\u5165\u5e97\u4ee3\u53f7 from schema.jdaic1hf a left join schema.htoa5f b on a.HHTFLC \= b.a5str left join schema.htoa4f c on a.hhttlc \= c.hhtvnd, schema.jdaic1df d left join schema.htoa1f e on d.hhtsku \= e.hhtsku where a.hhtno\=d.hhtno and a.hhtno\=?
hht202.01.03=SELECT d.hhtsku SKU, e.HHTDSC \u54c1\u540d, SUM(HHTAQT) \u9884\u8ba1\u51fa\u8d27\u91cf, SUM(if(hhtoqt\=0,HHTAQT,hhtoqt)) \u5b9e\u9645\u51fa\u8d27\u91cf, HHTEUS \u64cd\u4f5c\u4eba,e.hhtipc as IPC FROM schema.jdaic1hf a LEFT JOIN schema.htoa5f b ON a.HHTFLC \= b.a5str LEFT JOIN schema.htoa4f c ON a.hhttlc \= c.hhtvnd, schema.jdaic1df d LEFT JOIN schema.htoa1f e ON d.hhtsku\= e.hhtsku, schema.jdaic5hf s WHERE a.hhtcno \= d.hhtcno AND a.hhtcno \= s.hhtcno and a.hhthno \= s.hhthno AND s.hhtno\=? GROUP BY s.hhtno,d.hhtsku , e.HHTDSC, HHTEUS
hht202.01.04=SELECT b.a5strn \u8c03\u51fa\u5e97, c.a5strn \u8c03\u5165\u5e97 FROM schema.jdaic1hf a LEFT JOIN schema.htoa5f b ON a.HHTFLC \= b.a5str LEFT JOIN schema.htoa5f c ON a.hhttlc \= c.a5str, schema.jdaic1df d LEFT JOIN schema.htoa1f e ON d.hhtsku \= e.hhtsku ,schema.jdaic5hf s WHERE a.HHTCNO\=s.HHTCNO and a.HHTCNO \= d.HHTCNO and s.hhtno\= ?
#hht202.01.05=SELECT d.hhtsku SKU, e.HHTDSC \u54c1\u540d, sum(HHTAQT) \u9884\u8ba1\u51fa\u8d27\u91cf, sum(hhtoqt) \u5b9e\u9645\u51fa\u8d27\u91cf, HHTEUS \u64cd\u4f5c\u4eba FROM schema.jdaic1hf a LEFT JOIN schema.htoa5f b ON a.HHTFLC \= b.a5str LEFT JOIN schema.htoa5f c ON a.hhttlc \= c.a5str, schema.jdaic1df d LEFT JOIN schema.htoa1f e ON d.hhtsku \= e.hhtsku, schema.jdaic5hf s WHERE a.hhtcno \= d.hhtcno and (a.hhtcno \= s.hhtcno or a.hhtno \= s.hhtno) and s.hhtno\=? group by s.hhtno,d.hhtsku , e.HHTDSC, HHTEUS
hht202.01.05=SELECT d.hhtsku SKU, e.HHTDSC \u54c1\u540d, SUM(HHTAQT) \u9884\u8ba1\u51fa\u8d27\u91cf, SUM(if(hhtoqt\=0,HHTAQT,hhtoqt)) \u5b9e\u9645\u51fa\u8d27\u91cf, HHTEUS \u64cd\u4f5c\u4eba,e.hhtipc as IPC FROM schema.jdaic1hf a LEFT JOIN schema.htoa5f b ON a.HHTFLC \= b.a5str LEFT JOIN schema.htoa5f c ON a.hhttlc \= c.a5str, schema.jdaic1df d LEFT JOIN schema.htoa1f e ON d.hhtsku\= e.hhtsku, schema.jdaic5hf s WHERE a.hhtcno \= d.hhtcno AND a.hhtcno \= s.hhtcno AND a.hhthno \= s.hhthno AND s.hhtno\=? GROUP BY s.hhtno,d.hhtsku , e.HHTDSC, HHTEUS


#hht202.02=update schema.jdaic1df set hhtoqt\=? where hhtcno\=? and hhtsku\=?
hht202.02.01=update schema.jdaic1df set instno\=? where hhtsku\=? and (SELECT DISTINCT hhtesy FROM schema.jdaic1hf a, schema.jdaic5hf b WHERE a.HHTCNO \= b.HHTCNO and b.HHTNO \= ? )\=? and (HHTCNO in (SELECT DISTINCT HHTCNO FROM schema.jdaic5hf WHERE HHTNO \= ?) or HHTNO\=?) 
#hht202.02.02zxc=update schema.jdaic1hf set instno=?,hhtsts=? where hhtno = ? and (SELECT DISTINCT hhtesy FROM schema.jdaic1hf a, schema.jdaic5hf b WHERE a.HHTCNO = b.HHTCNO and b.HHTNO = ? )='HHT'
#hht202.02.02=update schema.jdaic1hf a set instno\= ?,hhtsts\= ? where (SELECT DISTINCT hhtesy FROM schema.jdaic5hf b WHERE (a.HHTCNO \= b.HHTCNO or a.hhtno\=b.hhtno) and b.HHTNO \= ?)\=?  
hht202.02.02=update schema.jdaic1hf a,schema.jdaic5hf b set a.instno\= ?,a.hhtsts\= ? where b.HHTNO\= ? and a.HHTESY\= ? and (a.HHTCNO = b.HHTCNO or a.hhtno=b.hhtno);



hht202.03.01=select HHTCNO from schema.JDAIC5HF where hhtno=?
hht202.03.02=SELECT s.HHTCNO HHTCNO,c.HHTVTP HHTVTP FROM schema.jdaic1hf a LEFT JOIN schema.htoa4f c ON a.hhttlc = c.hhtvnd, schema.jdaic5hf s WHERE a.hhtcno = s.hhtcno AND a.hhthno = s.hhthno AND s.hhtno \= ?

hht203.01.01=Update schema.jdaic1df set HHTAQT\=? where HHTNO \=? and HHTCNO\=? and HHTSKU\=?
hht203.01.02=select d1shnb \u5355\u53f7,'PO' as \u7c7b\u578b,crtdate \u5b8c\u6210\u65e5\u671f,crtuser \u64cd\u4f5c\u4eba from schema.jdaid1hf where d1stat \='5' 
hht203.01.03=select HHTCNO \u7bb1\u53f7,'TRF' as \u7c7b\u578b,crtdate \u5b8c\u6210\u65e5\u671f,crtuser \u64cd\u4f5c\u4eba from schema.jdaid2hf where hhtsta \='2' 

hht204.01.01=select c1d.hhtsku sku, c1h.HHTCNO \u7bb1\u53f7,SUM(if(c1d.HHTOQT\=0,c1d.HHTAQT,c1d.HHTOQT)) \u5b9e\u9000\u6570\u91cf, a1f.hhtipc as IPC from schema.jdaic5hf c5f, schema.jdaic1hf c1h, schema.jdaic1df c1d LEFT JOIN schema.htoa1f a1f on a1f.hhtsku \= c1d.hhtsku where c5f.HHTHNO \= c1h.HHTHNO and c1h.HHTcNO \= c5f.HHTcNO and c1h.HHTCNO \= c1d.HHTCNO and c5f.HHTNO \= ? and c1d.HHTSKU \= ? GROUP BY c1d.hhtsku,c1h.HHTCNO ,c1d.HHTOQT,c1d.HHTAQT
hht204.01.02=update schema.jdaic1df c1d,schema.jdaic1hf c1h, schema.jdaic5hf c5h set c1d.hhtoqt \= ? where c5h.hhthno \= c1h.hhthno and c1h.HHTCNO \= c1d.HHTCNO and c5h.HHTNO \= ? and c1d.HHTSKU \= ? and c1d.hhtcno \= ?

hht205.01.01=SELECT a.hhttlc AS tlcid, IFNULL(b.hhtvnm, c.A5STRN) AS tlcnm FROM schema.jdaic5hf a LEFT JOIN schema.htoa4f b ON a.HHTTLC \= b.hhtvnd LEFT JOIN schema.htoa5f c ON a.hhttlc \= c.A5STR WHERE a.hhtcno \= ?
hht205.01.02=SELECT hhtsku AS SKU, hhtfnm AS reason FROM schema.jdaic5df WHERE hhtcno \= ?

getLocation1=select D1STLC,D1TOLC from schema.jdaid1hf where D1SHNB=?
getLocation2=select HHTFLC,HHTTLC from schema.jdaid2hf where HHTCNO=?


login.01=select ip_addr as ip from hhtserver.sys1000 where sto_ip =?
login.02=insert into hhtserver.sys2000 ( HHTSN, HHTUSR, HHTDATE, HHTSTO) values (?,?,?,?)
login.03=Select * from hhtserver.sys4000 where user_no=? and user_password =?
login.04=Select hhtstat from hhtserver.sys3000 where hhtusr=?
login.05=Select prog_no from hhtserver.sys6000 where user_no =?


#seq.01=UPDATE schema.htoseq SET HHTSEQ=last_insert_id(HHTSEQ+1)
seq.01=INSERT INTO schema.htoseq (meno) VALUES ('0');
#seq.02=SELECT LPAD(hhtseq,5,0) hhtseq from schema.htoseq
seq.02=SELECT LPAD(CAST(LAST_INSERT_ID() AS CHAR),5,0) AS HHTSEQ FROM schema.htoseq LIMIT 1;

sys1000.01=select sto_no, sto_name, sto_ip, sto_status, crt_user, crt_date from schema.sys1000 WHERE IP_ADDR\=?
sys1000.02=SELECT STO_NO,sto_status FROM hhtserver.sys1000 WHERE STO_IP\=?

upc.01=SELECT distinct(HHTSKU) FROM schema.HTOA3F WHERE HHTUPC\=? 
upc.02=SELECT distinct(HHTSKU) FROM schema.HTOA3F WHERE HHTUPC\=? or HHTUPC\=?
requestValidation.01=Select request_key,memo from schema.hht_request_record where request_key \= ?
requestValidation.02=insert into schema.hht_request_record values(?,?,?,?)

skuinfo.01=Select 1F.hhtsku sku, REPLACE(1F.hhtdsc,'"','') sku_dsc from schema.HTOA2F 1F WHERE (1F.HHTSKU \= ? )
#ip related with store id
hhtA00.01=select sto_no from hhtserver.stk_bserver_map where substring_index(store_ip,'.',3) \= ?

#first count  
#hht500.00.01=Select stk_no from schema.STK_STKPLAN_SET where sto_no \= ? and (stk_status \= 'A' or stk_status \= 'B') and stk_date >\= ? order by stk_date desc
hht500.00.01=Select stk_no,stk_date from schema.STK_STKPLAN_SET where sto_no \= ? and (stk_status \= 'A' or stk_status \= 'B') and stk_date >\= ? and STK_NO not like 'Y%' union all Select stk_no,stk_date from schema.STK_STKPLAN_SET where sto_no \= ? and (stk_status \= 'A' or stk_status \= 'B') and stk_date >\= ? and STK_NO like 'Y%' order by stk_date desc
hht500.00.02=Select stk_locno loc_no from schema.STK_FIRST_LOC_ALLOT  where stk_no \= ? and stk_changer \= ? and (STK_LOC_STATUS \= 'Y'or STK_LOC_STATUS\= 'I') order by Cast(stk_locno as UNSIGNED)
hht500.00.03=Select STK_LOC_STATUS loc_status from schema.STK_FIRST_LOC_ALLOT  where stk_no \= ? and stk_changer \= ? and stk_locno \=?
hht500.00.04=Update schema.STK_FIRST_LOC_ALLOT set STK_LOC_STATUS \= 'I' where stk_no \=? and stk_changer \= ? and stk_locno \=?
hht500.00.05=Select 1 from schema.STK_STKPLAN_SET where stk_no \= ? and stk_status\= 'A'
hht500.00.06=Update schema.STK_STKPLAN_SET set stk_status \= 'B'where stk_no \= ?


hht501.01.01=Insert into schema.stk_first_count(stk_no,sto_no,sto_name,stk_locno,sel_no,plu_no,plu_mango,plu_name,sku_first_qty,actual_first_qty,adj_reason,stk_ctr_user,stk_ctr_time,stk_update_user,stk_update_time,oper_status,instno) values(?,?,'',?,?,?,'',?,?,0,'',?,?,?,?,'N',?)
hht501.01.02=Update schema.stk_first_loc_allot set stk_loc_status \= 'O' where stk_no\= ? and stk_locno \= ? and stk_changer\=?
hht501.01.03=Update schema.stk_first_count set oper_status\='Y' where stk_no \= ? and stk_locno \= ? and stk_changer\=?
hht501.01.04=select * from schema.stk_first_loc_allot where stk_no\= ? and stk_locno \= ? and stk_changer\=? and  STO_NO \= ?
hht501.02.01=update schema.stk_first_loc_allot set STK_LOC_STATUS \= 'I' where STO_NO \= ? AND STK_NO \= ? AND STK_LOCNO \= ?
hht501.03.01=update schema.stk_first_loc_allot set STK_LOC_STATUS \= 'Y' where STO_NO \= ? AND STK_NO \= ? AND STK_LOCNO \= ?

#second count
#hht600.01.01=Select stk_no from schema.STK_STKPLAN_SET where sto_no \= ? and (stk_status \= 'D' or stk_status \= 'E') and stk_date >\= ? order by stk_date desc
hht600.01.01=Select stk_no,stk_date from schema.STK_STKPLAN_SET where sto_no \= ? and (stk_status \= 'D' or stk_status \= 'E') and stk_date >\= ?  and stk_no not like 'Y%' union all Select stk_no,stk_date from schema.STK_STKPLAN_SET where sto_no \= ? and (stk_status \= 'D' or stk_status \= 'E') and stk_date >\= ?  and stk_no like 'Y%' order by stk_date desc 
hht600.01.02=Select stk_locno loc_no from schema.STK_SECOND_LOC_ALLOT  where stk_no \= ? and stk_changer \= ? and (stk_loc_status \= 'Y' or stk_loc_status\= 'I') and stk_second_type \= ? 
hht600.01.03=Select stk_loc_status from schema.STK_SECOND_LOC_ALLOT  where stk_no \= ? and stk_changer \= ? and stk_locno \= ? and stk_second_type \= ? 
hht600.01.04=Select stk_status from schema.STK_STKPLAN_SET where stk_no \= ?
hht600.01.05=Update schema.STK_SECOND_LOC_ALLOT set stk_loc_status \= 'I' where stk_no \= ? and stk_changer \= ? and stk_locno \= ? and stk_second_type \= ?
hht600.01.06=Update schema.STK_STKPLAN_SET set stk_status \= 'E' where stk_no \= ?
#hht601.01.01=Select stk_locno loc_no, plu_no sku, plu_name sku_dsc, sku_first_qty,sel_no from schema.stk_second_count where stk_no \= ? and stk_locno \= ? and stk_second_type \= ?
hht601.01.01=Select stk_locno loc_no, plu_no sku, htoa1f.HHTDSC sku_dsc, sku_first_qty,sel_no from schema.stk_second_count as ssc join schema.htoa1f as htoa1f on ssc.PLU_NO\=htoa1f.HHTSKU where stk_no \= ? and stk_locno \= ? and stk_second_type \= ? 
hht602.01.01=Select tblval adj_code, tbldsc adj_reason From schema.hhtinit where tblnam \= 'ADJRS' and tblval <>''
hht601.01.02=Update schema.stk_second_count set sku_second_initial_qty \= ?,adj_reason\= ?, stk_update_user\= ?, stk_update_time\= ? , instno\= ? where stk_no \= ? and stk_locno\= ? and stk_second_type\= ? and plu_no \= ? and sel_no\= ?
hht601.01.03=Update schema.stk_second_loc_allot set stk_loc_status \= 'O',stk_opr_user \= ?,stk_opr_time \= ? where stk_no \= ? and stk_locno \= ? and stk_changer \= ? and stk_second_type \= ?
hht601.01.04=update schema.stk_stkplan_set set STK_STATUS\='E' where STK_NO \=? and STO_NO \=?

#ext count
hht700.01.01=Select stk_no from schema.stk_stkplan_set where sto_no \= ? and (stk_status \='C' or stk_status\='D' or stk_status \= 'E' or stk_status \= 'F') order by stk_date desc
hht700.01.02=Select count(stk_locno) rcd_count from schema.stk_first_loc_allot where stk_no \= ? and stk_locno \= ?

#hht701.01.01=Select sel_no, actual_first_qty as sku_first_qty from schema.stk_first_count where sto_no \= ? and stk_no \= ? and stk_locno \= ? and plu_no \= ?
hht701.01.01=Select fc.sel_no, if(SKU_SECOND_INITIAL_QTY is null,fc.SKU_FIRST_QTY,sc.SKU_SECOND_INITIAL_QTY) as sku_first_qty from schema.stk_first_count as fc left outer join schema.stk_second_count as sc on fc.sel_no \= sc.sel_no and fc.sto_no \= sc.sto_no and fc.stk_no \= sc.stk_no and fc.stk_locno \= sc.stk_locno and fc.plu_no \= sc.plu_no where fc.sto_no \= ? and fc.stk_no \= ? and fc.stk_locno \= ? and fc.plu_no \= ? 
hht701.01.02=Insert into schema.stk_ext_count(stk_no,sto_no,sto_name,stk_locno,sel_no,plu_no,plu_mango,plu_name,sku_first_qty,sku_ext_qty,adj_reason,stk_ctr_user,stk_ctr_time,stk_update_user,stk_update_time,oper_status,instno) values(?,?,'',?,?,?,'',?,?,?,'',?,?,?,?,'Y',?)
hht701.01.03=select 1 from schema.stk_ext_count where STK_NO \=? and STK_LOCNO \=? and PLU_NO \=? and SEL_NO \=? 
hht701.01.04=update schema.stk_ext_count set sto_no \=?, sto_name \='', plu_mango \='', plu_name \=?, sku_first_qty \=?, sku_ext_qty \=?, adj_reason \='', stk_ctr_user \=?, stk_ctr_time \=?, stk_update_user \=?, stk_update_time \=?, oper_status \='Y', instno \=? where STK_NO \=? and STK_LOCNO \=? and PLU_NO \=? and SEL_NO \=? 

#connect test
hht800.01.01=Insert into schema.stk_hht_test (sto_no,sn,loc_no,plu_no,plu_name,plu_qty,server_ip,hht_ip,stk_update_user,stk_update_time,oper_status) values(?,?,?,?,?,?,?,?,?,?,'Y')

#business process
#hht1011.01.00=Select hhtsku from schema.htoa1f where hhtipc \= ?
hht1011.01.00=Select A1.hhtsku from schema.htoa1f A1 left join schema.htoa3f A3 on A1.HHTSKU \= A3.HHTSKU where (A1.HHTSKU \= ? OR A1.HHTIPC \= ? OR A3.HHTUPC \= ? or A3.HHTUPC \=?)
#hht1011.01.01=Select 1f.hhtsku sku,1f.hhtset as setCode, '' huohao,1f.hhtdsc sku_dsc,2f.hhtcpr cpr,2f.hhtrpr rpr,1f.hhtunt unit,CONCAT(1f.hhtlth,'*',1f.hhthgh,'*',1f.hhtwth) style,1f.hhtmdl model,1f.hhtorg origin, 1f.hhthld bavNo,1f.hhtsts status From schema.htoa1f 1f, schema.htoa2f 2f where 1f.hhtsku \= 2f.hhtsku and 2f.hhtstr \= ? and 1f.hhtsku \= ?
#hht1011.01.01=SELECT 1F.HHTSKU SKU,1F.HHTSET AS SETCODE, '' HUOHAO,1F.HHTDSC SKU_DSC,2F.HHTCPR CPR,2F.HHTRPR RPR,1F.HHTUNT UNIT,CONCAT(1F.HHTLTH,'*',1F.HHTHGH,'*',1F.HHTWTH) STYLE,1F.HHTMDL MODEL,1F.HHTORG ORIGIN, 1F.HHTHLD BAVNO,1F.HHTSTS STATUS FROM  schema.HTOA2F 2F,schema.HTOA1F 1F LEFT JOIN schema.HTOA3F 3F ON 3F.HHTSKU \= 1F.HHTSKU WHERE 1F.HHTSKU \= 2F.HHTSKU AND 2F.HHTSTR \= ? AND (1F.HHTSKU \= ? OR 1F.HHTIPC \= ? OR 3F.HHTUPC \= ?) 
hht1011.01.05=select HHTIPC from schema.htoa1f where HHTSKU \= ?
hht1011.01.01=SELECT 11F.HHTSKU SKU, 11F.HHTSET AS SETCODE, 11F.HHTIPC HUOHAO, 11F.HHTDSC SKU_DSC, 2F.HHTCPR CPR,	2F.HHTRPR RPR, 11F.HHTUNT UNIT,	11F.HHTIPC HHTIPC,CONCAT(11F.HHTLTH,'*',11F.HHTHGH,'*',11F.HHTWTH) STYLE,11F.HHTMDL MODEL,11F.HHTORG ORIGIN,IFNULL(2F.HHTPOG, 'N') BAVNO,IF ((2F.HHTDAC IS NULL),	2F.HHTSTS,CONCAT(2F.HHTSTS, '-', 2F.HHTDAC)) STATUS FROM (SELECT 1F.* FROM schema.HTOA1F 1F WHERE	1F.HHTSKU \= ? ) 11F LEFT JOIN schema.HTOA2F 2F ON 11F.HHTSKU = 2F.HHTSKU WHERE 2F.HHTSTR \= ?
hht1011.01.02=Select AACMP as subsku from schema.htoaaf where AASET \= ?
hht1011.01.04=select hhtsku from schema.htoa1f where HHTIPC \= ?
hht1011.01.03=Select AASET AS parent_sku from schema.htoaaf where AACMP \= ?
hht1011.01.06=select mam_unitprc CPR from pos2004 where plu_no \= ?
#hht1012.01.01=Select hhtupc code From schema.HTOA3F where hhtsku \= ?
hht1012.01.01=SELECT HHTUPC CODE FROM schema.HTOA3F A3,schema.HTOA1F A1 WHERE A1.HHTSKU \= A3.HHTSKU AND(A1.HHTSKU \= ? OR A1.HHTIPC \= ? OR A3.HHTUPC \= ?)

#hht1013.01.01=Select HHTPSD act_start_time,HHTPED act_end_time, HHTEVT event, HHTEVD event_desc from schema.htoa2f where hhtsku \= ? and hhtstr \= ?
hht1013.01.01=SELECT HHTPSD ACT_START_TIME,HHTPED ACT_END_TIME, HHTEVT EVENT, HHTEVD EVENT_DESC FROM schema.HTOA2F A2,schema.HTOA1F A1 LEFT JOIN schema.HTOA3F A3 ON A1.HHTSKU \= A3.HHTSKU WHERE A1.HHTSKU \= A2.HHTSKU AND  A2.HHTSTR \= ? AND (A1.HHTSKU \= ? OR A1.HHTIPC \= ? OR A3.HHTUPC \= ?)
hht1013.01.02=SELECT MMP_BegDate ,MMP_EndDate,MAM_NO from pos2004 where plu_magno \= ?

#hht1021.01.01=SELECT 1f.hhtchn sku_dsc, 1f.hhtsku sku, 2f.hhtcpr cpr, 2f.hhtrpr rpr, 1f.hhthld is_hold, 1f.hhtsts STATUS, 1f.HHTSDP s_dpt, 2f.hhtlod last_recipe_date, b1f.hhthan inv_number,2f.hhtreq trf_request_qty, 2f.hhtsal c_week_sale, 2f.hhtlsa l_week_sale, 2f.hhtav3 three_week_sale, 2f.hhtav8 eight_week_sale,2f.hhtdsp show_qty,2f.hhtpog bavNo From schema.htoa1f 1f, schema.htoa2f 2f, schema.htob1f b1f where 1f.hhtsku \= 2f.hhtsku and 2f.hhtstr \= ? and 1f.hhtsku\= ? and 1f.hhtsku \= b1f.hhtsku
hht1021.01.01=SELECT 11F.HHTDSC SKU_DSC, 11F.HHTSKU SKU, 11F.HHTIPC HUOHAO,2F.HHTCPR CPR,2F.HHTRPR RPR,IFNULL(2F.HHTHFG, 'N') IS_HOLD,11F.HHTIPC HHTIPC,IF ((2F.HHTDAC IS NULL),2F.HHTSTS,CONCAT(2F.HHTSTS, '-', 2F.HHTDAC)) STATUS, CONCAT(11F.HHTSDP,'-',11F.HHTCLS,'-',11F.HHTSCL) S_DPT,2F.HHTLOD LAST_RECIPE_DATE,(IFNULL(B1F.HHTHAN, 0) - IFNULL(SS.SALES_QTY, 0)) INV_NUMBER,IF (B1F.HHTSTO = 0,	B1F.HHTSPO,	B1F.HHTSTO) TRF_REQUEST_QTY, (2F.HHTSAL+IFNULL(SS.SALES_QTY,0)) C_WEEK_SALE, 2F.HHTLSA L_WEEK_SALE, ROUND(2F.HHTAV3, 1) THREE_WEEK_SALE, ROUND(2F.HHTAV8, 1) EIGHT_WEEK_SALE, 2F.HHTDSP SHOW_QTY, IFNULL(2F.HHTPOG, 'N') BAVNO FROM	(SELECT	1F.* FROM schema.HTOA1F 1F WHERE 1F.HHTSKU \= ?) 11F LEFT JOIN schema.HTOA2F 2F ON 11F.HHTSKU = 2F.HHTSKU LEFT JOIN schema.HTOB1F B1F ON 2F.HHTSKU = B1F.HHTSKU LEFT JOIN schema.HTOSALES SS ON B1F.HHTSKU = SS.HHTSKU WHERE 2F.HHTSTR \= ?
#hht1021.01.02=SELECT sum(d1d.d1reqt) po_on_the_way from schema.jdaid1hf d1h, schema.jdaid1df d1d where d1h.d1shnb \= d1d.d1shnb and d1h.d1stat in('1','2','3') and d1h.d1shtp \= 'PO' and d1d.d1sku \= ? and d1h.d1tolc \= ? group by d1d.d1sku
hht1021.01.02=SELECT b1.HHTSPO+SUM(D1D.D1REQT) PO_ON_THE_WAY FROM schema.JDAID1HF D1H left join schema.JDAID1DF D1D on D1H.D1SHNB = D1D.D1SHNB left join schema.HTOA1F A1 on A1.HHTSKU = D1D.D1SKU left join schema.htob1f b1 on  a1.hhtsku = b1.HHTSKU WHERE D1H.D1STAT IN ('1', '2', '3') AND D1H.D1SHTP \= 'PO' AND  A1.HHTSKU \= ? AND D1H.D1TOLC \= ? and D1H.D1ENTD \= ? GROUP BY D1D.D1SKU
#hht1021.01.03=SELECT sum(d1d.d1reqt) trf_on_the_way from schema.jdaid1hf d1h, schema.jdaid1df d1d where d1h.d1shnb \= d1d.d1shnb and d1h.d1stat in('1','2','3') and d1h.d1shtp \= 'TRF' and d1d.d1sku \= ? and d1h.d1tolc \= ? group by d1d.d1sku
hht1021.01.03=SELECT b1.HHTSTO+SUM(D1D.D1REQT) TRF_ON_THE_WAY FROM schema.JDAID1HF D1H left join schema.JDAID1DF D1D on D1H.D1SHNB = D1D.D1SHNB left join schema.HTOA1F A1 on A1.HHTSKU = D1D.D1SKU left join schema.htob1f b1 on  a1.hhtsku = b1.HHTSKU WHERE D1H.D1STAT IN ('1', '2', '3') AND D1H.D1SHTP \= 'TRF' AND  A1.HHTSKU \= ? AND D1H.D1TOLC \= ? and D1H.D1ENTD \= ? GROUP BY D1D.D1SKU
htt1021.01.04=select SALES_QTY from HTOSALES where STO_NO \=? AND HHTSKU \= "SUBSTR"(?, 4, 6)

#hht1022.01.01=Select a2f.hhtsku sku,'' huohao,a2f.hhtdsc sku_dsc, a4f.hhtvnd vnd_code, a4f.hhtvnm vnd_name, a4f.hhtvtn vnd_name_type, a4f.hhtcon contact,a4f.hhttel tel,a8.a8mamt start_ap,a8.a8lead order_cycle,a1f.hhtcpk standard_pack_qty  From schema.htoa2f a2f, schema.htoa4f a4f, schema.htoa8f a8,schema.htoa1f a1f Where a2f.hhtvnd \= a4f.hhtvnd and a4f.hhtvnd \= a8.a8vnd and a2f.hhtstr \= a8.a8str and a2f.hhtstr \= ? and a2f.hhtsku \= ? and a2f.hhtsku \= a1f.hhtsku
#hht1022.01.01=Select a2f.hhtsku sku,'' huohao,a2f.hhtdsc sku_dsc, a4f.hhtvnd vnd_code, a4f.hhtvnm vnd_name, a4f.hhtvtn vnd_name_type,a4f.hhtcon contact,a4f.hhttel tel,a4f.hhtmam start_ap,a4f.hhtled order_cycle,a1f.hhtcpk standard_pack_qty From schema.htoa2f a2f, schema.htoa4f a4f,schema.htoa1f a1f Where a2f.hhtvnd \= a4f.hhtvnd and  a2f.hhtstr \= a4f.hhtstr and a2f.hhtsku \= a1f.hhtsku and a2f.hhtstr \= ? and a2f.hhtsku \= ? 
#hht1022.01.01=SELECT A2F.HHTSKU SKU,A1F.HHTIPC HUOHAO,A2F.HHTDSC SKU_DSC, A4F.HHTVND VND_CODE, A4F.HHTVNM VND_NAME, A4F.HHTVTN VND_NAME_TYPE,A4F.HHTCON CONTACT,A4F.HHTTEL TEL,A4F.HHTMAM START_AP,A4F.HHTLED ORDER_CYCLE,A1F.HHTCPK STANDARD_PACK_QTY FROM schema.HTOA2F A2F, schema.HTOA4F A4F,schema.HTOA1F A1F LEFT JOIN schema.htoa3f A3F ON A3F.HHTSKU = A1F.HHTSKU WHERE A2F.HHTVND = A4F.HHTVND AND  A2F.HHTSTR = A4F.HHTSTR AND A2F.HHTSKU = A1F.HHTSKU AND A2F.HHTSTR = ? AND (A1F.HHTSKU = ? OR A1F.HHTIPC = ? OR A3F.HHTUPC = ?)
hht1022.01.01=SELECT A2F.HHTSKU SKU,A1F.HHTIPC HUOHAO,A2F.HHTDSC SKU_DSC, IFNULL(A7F.A7BAL,0) AP_AMT,A4F.HHTVND VND_CODE, A4F.HHTVNM VND_NAME, A4F.HHTVTN VND_NAME_TYPE,A4F.HHTCON CONTACT,A4F.HHTTEL TEL,A4F.HHTMAM START_AP,A4F.HHTLED ORDER_CYCLE,A1F.HHTCPK STANDARD_PACK_QTY FROM schema.HTOA2F A2F, schema.HTOA4F A4F LEFT JOIN schema.HTOA7F A7F ON A7F.A7VND = A4F.HHTVND,schema.HTOA1F A1F LEFT JOIN schema.HTOA3F A3F ON A3F.HHTSKU = A1F.HHTSKU WHERE A2F.HHTVND = A4F.HHTVND AND  A2F.HHTSTR = A4F.HHTSTR AND A2F.HHTSKU= A1F.HHTSKU AND A2F.HHTSTR = ? AND (A1F.HHTSKU = ? OR A1F.HHTIPC = ? OR A3F.HHTUPC = ?)

#hht1022.01.02=Select d1d.d1shnb pono, d1h.D1SHPD expect_arrival_date, d1h.D1ENTD order_date From schema.JDAID1HF d1h, schema.JDAID1DF d1d where d1h.D1SHNB \= d1d.D1SHNB And d1h.d1stat in('1','2','3') and d1h.D1SHTP \= 'PO' and d1h.D1TOLC \= ? and d1d.D1SKU \= ?
hht1022.01.02=SELECT D1D.D1SHNB PONO, D1H.D1SHPD EXPECT_ARRIVAL_DATE, D1H.D1ENTD ORDER_DATE FROM schema.JDAID1HF D1H, schema.JDAID1DF D1D, schema.HTOA1F A1 LEFT JOIN schema.HTOA3F A3 ON A3.HHTSKU \= A1.HHTSKU WHERE D1H.D1SHNB \= D1D.D1SHNB AND D1D.D1SKU \= A1.HHTSKU AND D1H.D1STAT IN('1','2','3') AND D1H.D1SHTP \= 'PO' AND D1H.D1TOLC \= ? AND (D1D.D1SKU \= ? OR A1.HHTIPC \= ? OR A3.HHTUPC \= ?) 


#hht1023.01.01=Select a2f.hhtsku sku,'' huohao, a2f.hhtdsc sku_dsc,b1f.hhtwav dc_inv_qty,a1f.hhtmin min_package_num From schema.htoa2f a2f, schema.htob1f b1f, schema.htoa1f a1f Where a2f.hhtstr \= b1f.hhtstr and a2f.hhtstr \= ? and a2f.hhtsku \= a1f.hhtsku and a2f.hhtsku \= ? and a2f.hhtsku \= b1f.hhtsku
hht1023.01.01=SELECT A2F.HHTSKU SKU,A1F.HHTIPC HUOHAO, A2F.HHTDSC SKU_DSC,B1F.HHTWAV DC_INV_QTY,A1F.HHTMIN MIN_PACKAGE_NUM FROM schema.HTOA2F A2F, schema.HTOB1F B1F, schema.HTOA1F A1F LEFT JOIN schema.HTOA3F A3F ON A3F.HHTSKU \= A1F.HHTSKU WHERE A2F.HHTSTR \= B1F.HHTSTR AND A2F.HHTSTR \= ? AND A2F.HHTSKU \= A1F.HHTSKU AND (A1F.HHTSKU \=?  OR A1F.HHTIPC \= ? OR A3F.HHTUPC \= ?) AND A2F.HHTSKU \= B1F.HHTSKU 

#hht1023.01.02=SELECT d1h.d1shnb trf_no, d1h.D1ENTD order_date, a8f.a8lead leadtime,d1h.D1SHPD expect_arrival_date,d1h.d1stlc AS flc, d1h.d1tolc AS tlc FROM schema.JDAID1HF d1h, schema.JDAID1DF d1d, schema.htoa8f a8f WHERE d1h.d1shnb \= d1d.d1shnb AND d1h.d1stat \='1' AND d1h.d1shtp \= 'PO' AND d1h.d1tolc \= ? AND d1d.d1sku \= ? AND a8f.a8vnd \= d1h.d1stlc AND a8f.a8str \= d1h.d1tolc UNION ALL SELECT d1h.d1shnb trf_no, d1h.D1ENTD order_date, a9f.a9ledt leadtime,d1h.D1SHPD expect_arrival_date,d1h.d1stlc AS flc, d1h.d1tolc AS tlc FROM schema.JDAID1HF d1h, schema.JDAID1DF d1d, schema.htoa9f a9f WHERE d1h.d1shnb \= d1d.d1shnb AND d1h.d1stat \='1' AND d1h.d1shtp \= 'TRF' AND d1h.d1tolc \= ? AND d1d.d1sku \= ? AND a9f.a9fstr \= d1h.d1stlc AND a9f.a9tstr \= d1h.d1tolc
#hht1023.01.02=SELECT d1h.d1shnb trf_no, d1h.D1ENTD order_date, a9f.a9ledt leadtime,d1h.D1SHPD expect_arrival_date,d1h.d1stlc AS flc, d1h.d1tolc AS tlc FROM schema.JDAID1HF d1h, schema.JDAID1DF d1d, schema.htoa9f a9f,schema.jdaid2hf d2f WHERE d1h.d1shnb \= d1d.d1shnb AND d1h.d1shtp \= 'TRF' AND d1h.d1tolc \=? AND d1d.d1sku \=? AND a9f.a9fstr \= d1h.d1stlc AND a9f.a9tstr \= d1h.d1tolc and d2f.hhtno \= d1h.d1shnb and d2f.hhtno < '2'
hht1023.01.02=SELECT D1H.D1SHNB TRF_NO, D1H.D1ENTD ORDER_DATE, A9F.A9LEDT LEADTIME,D1H.D1SHPD EXPECT_ARRIVAL_DATE,D1H.D1STLC AS FLC, D1H.D1TOLC AS TLC FROM schema.JDAID1HF D1H,schema.JDAID1DF D1D, schema.HTOA9F A9F ,schema.HTOA1F A1F LEFT JOIN schema.HTOA3F A3F ON A3F.HHTSKU \= A1F.HHTSKU WHERE D1H.D1SHNB \= D1D.D1SHNB AND D1D.D1SKU \= A1F.HHTSKU AND A9F.A9FSTR \= D1H.D1STLC  AND A9F.A9TSTR \= D1H.D1TOLC  AND D1H.D1SHTP \= 'TRF' AND date(D1H.D1SHPD) BETWEEN SUBDATE(curdate(),1) AND SUBDATE(curdate(),-5) AND D1H.D1TOLC \= ? AND (D1D.D1SKU \= ?  OR A1F.HHTIPC \= ? OR A3F.HHTUPC \= ?) 

hht1024.01.00=SELECT INS.SKU_NO SKU, REPLACE(INS.SKU_NAME,'"','') SKU_DSC FROM INTERFACE_SKU INS LEFT JOIN INTERFACE_JDA_UPC IJU  ON INS.SKU_NO = IJU.STKSKU WHERE ( INS.SKU_NO = ? OR INS.SKU_IPC = ? OR IJU.STKUPC= ? )
hht1024.01.01=SELECT ISS.HHTSKU SKU, ISS.HHTSTR STO,ISS.HHTHAN INV FROM INTERFACE_STORE_SKU ISS ,INTERFACE_SKU INS LEFT JOIN INTERFACE_JDA_UPC IJU  ON INS.SKU_NO = IJU.STKSKU WHERE INS.SKU_NO = ISS.HHTSKU AND ISS.HHTSTR<> ? AND ( INS.SKU_NO = ? OR INS.SKU_IPC = ? OR IJU.STKUPC= ? ) ORDER BY ISS.HHTSTR 
hht1024.01.02=select HHTSKU SKU,'13196' STO,HHTDSP INV from schema.htoa2f where HHTSKU \= ? and HHTSTR \= ?
#hht1024.01.01=Select hhtsku sku, hhtstr sto,hhtqty inv from schema.htoa11f where hhtstr <> ? and hhtsku \= ?
#hht1024.01.01=SELECT A11.HHTSKU SKU, A11.HHTSTR STO,A11.HHTQTY INV FROM schema.HTOA11F A11,schema.HTOA1F A1 LEFT JOIN schema.HTOA3F A3 ON A1.HHTSKU \= A3.HHTSKU WHERE A11.HHTSKU \= A1.HHTSKU AND  A11.HHTSTR <> ? AND (A1.HHTSKU \= ? OR A1.HHTIPC \= ? OR A3.HHTUPC \= ?) 

hht1031.01.01=Select count(stk_locno) loc_count,status From schema.stk_loclab where sto_no \= ? and stk_locno \= ? and STK_OPR_TIME \= ? and sku_status = 'A' group by stk_locno order by plu_no

hht1031.01.02=update schema.stk_loclab set sku_status = 'D' , INSTNO \= ? where sto_no \= ? and stk_locno \= ?

hht1033.01.03=select plu_no sku, plu_name sku_dsc, '' plu_mango,sel_no From schema.stk_loclab where sto_no \= ? and stk_locno \= ? order by plu_no

hht1033.01.04=update schema.stk_loclab set sku_status = 'A', INSTNO \= ?,stk_opr_time \=?,sel_no \= ?,plu_name \= ?,plu_mango \= ?  where sto_no \= ? and stk_locno \= ? and plu_no \=?

#hht1031.01.02=delete from schema.stk_loclab where sto_no \= ? and stk_locno \= ? and stk_opr_time \=?

#hht1032.01.01=Select stk_locno loc_no, stk_opr_time as date,count(stk_locno) sku_kind_qty from schema.stk_loclab where sto_no \= ? and STK_OPR_USER \= ? and STK_OPR_TIME \= ? 
hht1032.01.01=SELECT STK_LOCNO LOC_NO, STK_OPR_TIME AS DATE,COUNT(STK_LOCNO) SKU_KIND_QTY FROM schema.STK_LOCLAB WHERE STO_NO \= ?  AND STK_OPR_TIME \= ? and sku_status = 'A'

hht1033.01.01=Insert into schema.stk_loclab(stk_locno,sto_no,sel_no,plu_no,plu_name,plu_mango,plu_qty,stk_opr_user,stk_opr_time,oper_status,status,instno,sku_status) values(?,?,?,?,?,?,0,?,?,'N','0',?,'A')
hht1033.01.02=Select plu_no sku, plu_name sku_dsc, '' plu_mango,sel_no From schema.stk_loclab where sto_no \= ? and stk_locno \= ? and sku_status = 'A' and stk_opr_time \=?
hht1033.02.01=Update sehema.stk_loclab set status \= '1',oper_status\=\u2019Y\u2019 where sto_no\=? and stk_locno \= ? and stk_opr_user \= ? and stk_opr_time \= ?
hht1034.01.01=Select plu_no as sku,plu_name as sku_dsc,plu_mango From schema.stk_sku_prt where sto_no \= ? and stk_opr_user \= ? and stk_opr_time \= ?
hht1034.02.01=Insert into schema.stk_sku_prt(plu_no,plu_name,plu_mango,sto_no,sto_name,stk_opr_user,stk_opr_time,oper_status,instno) values(?,?,'',?,'',?,?,'N',?)

hht1034.00.00=select replace(hhtdsc,'"','') SKU_DSC from schema.htoa2f where hhtsku \= ?

hht1035.01.01=Delete from schema.stk_sku_order where sto_no \= ?
hht1035.01.02=Insert into schema.stk_sku_order(sto_no,plu_no,plu_name,plu_mango,stk_order_qty,stk_opr_user,stk_opr_time,oper_status,instno) values(?,?,?,?,?,?,?,'N',?)
hht1036.01.01=SELECT 1f.hhtchn sku_dsc, 1f.hhtsku huohao, 2f.hhtcpr cpr, 2f.hhtrpr rpr, 1f.hhtHld is_hold, 1f.hhtsts STATUS, 1f.HHTSDP s_dpt,2f.hhtlod last_recipe_date, b1f.hhthan inv_number,2f.hhtreq trf_request_qty, 2f.hhtsal c_week_sale, 2f.hhtlsa l_week_sale, 2f.hhtav3 three_week_sale, 2f.hhtav8 eight_week_sale, a8f.a8mamt start_ap,a8f.A8LEAD leadtime,2f.hhtvnd vtn_code,2f.hhtvtn vtn_type_desc, 1f.hhtmin min_package_num FROM schema.htoa1f 1f, schema.htoa2f 2f, schema.htob1f b1f,schema.htoa4f a4f,schema.htoa8f a8f WHERE 1f.hhtsku \= 2f.hhtsku AND 2f.hhtstr \= ? AND 1f.hhtsku\= ? AND 1f.hhtsku \= b1f.hhtsku AND 2f.hhtvnd \= a4f.hhtvnd AND 2f.hhtstr \= a8f.a8str AND a4f.hhtvnd \= a8f.a8vnd
hht1041.01.01=Select count(stk_group_id) group_cnt,is_delete From schema.stk_group where sto_no \= ? and stk_group_id \= ? group by is_delete
hht1041.01.02=Update schema.stk_group set is_delete \= '' where sto_no \= ? and stk_group_id \= ?
hht1041.01.03=Select stk_group_name,stk_begin_time start_valid_date,stk_end_time end_valid_date From schema.stk_group where sto_no \= ? and stk_group_id \= ?
hht1042.01.01=Insert into schema.stk_group (stk_group_id, stk_group_name,sto_no,stk_begin_time,stk_end_time,oper_status,is_delete,instno) values(?,?,?,?,?,'N','N',?) 
hht1042.01.02=Update schema.stk_group set is_delete \= '',stk_group_name \= ?,stk_begin_time \= ?,stk_end_time \= ?, oper_status \= 'N' where sto_no \= ? and stk_group_id \= ?
hht1043.02.01=Insert into schema.stk_group_sku(stk_group_id,sto_no,plu_no,plu_name,plu_qty,oper_status,SKU_STATUS,instno) values(?,?,?,?,?,'0','A',?)
hht1043.02.02=update schema.stk_group_sku SET SKU_STATUS = 'D', instno \= ? where sto_no \= ? and stk_group_id \= ? 
hht1043.02.03=select plu_no as sku, plu_name as sku_dsc, plu_qty as sku_qty from schema.stk_group_sku where sto_no \= ? and stk_group_id \= ?
hht1043.02.04=update schema.stk_group_sku SET SKU_STATUS \= 'A' , instno \= ? where stk_group_id \= ? and sto_no \= ? and plu_no \= ?
hht1043.02.05=select * from schema.stk_group_sku where sto_no \= ? and stk_group_id \= ? and plu_no \= ?
hht1043.02.06=select INSTNO from schema.stk_group where stk_group_id \= ?
#hht1043.02.02=Delete from schema.stk_group_sku where sto_no \= ? and stk_group_id \= ?
#hht1044.01.01=Select count(sgs.stk_group_id) sku_kind_qty,sg.stk_group_id groupId,sg.stk_begin_time start_valid_date,sg.stk_end_time end_valid_date From schema.stk_group_sku sgs, schema.stk_group sg where sg.stk_group_id \= sgs.stk_group_id and sg.is_delete \= 'N' and sg.sto_no \= ? 
#hht1044.01.01=SELECT COUNT(SGS.STK_GROUP_ID) SKU_KIND_QTY,SG.STK_GROUP_ID GROUPID,SG.STK_BEGIN_TIME START_VALID_DATE,SG.STK_END_TIME END_VALID_DATE FROM schema.STK_GROUP_SKU SGS, schema.STK_GROUP SG WHERE SG.STK_GROUP_ID = SGS.STK_GROUP_ID AND SG.IS_DELETE = 'N' AND SG.STO_NO = ? AND (SKU_STATUS = 'A' OR SKU_STATUS is null)  AND SG.STK_GROUP_ID = ?  GROUP BY SG.STK_GROUP_ID ,SG.STK_BEGIN_TIME,SG.STK_END_TIME
hht1044.01.01=SELECT COUNT(sgs.stk_group_id) AS sku_kind_qty, sg.stk_group_id AS groupId, sg.stk_begin_time AS start_valid_date, sg.stk_end_time AS end_valid_date FROM schema.stk_group sg left join schema.stk_group_sku sgs on sg.stk_group_id \= sgs.stk_group_id WHERE  sg.is_delete \= 'N' AND sg.sto_no \= ? AND sgs.SKU_STATUS <>'D'

hht1044.01.02=Update schema.stk_group set is_delete \= 'Y' where sto_no \= ? and stk_group_id \= ?

hht1045.01.01=SELECT replace(11F.HHTDSC,'"','') SKU_DSC,11F.HHTSKU SKU,11F.HHTIPC IPC,CONCAT(11F.HHTSDP,'-',11F.HHTCLS,'-',11F.HHTSCL) s_dpt, ifnull(b1f.HHTHAN,'0') as hhthan FROM (SELECT 1F.* FROM schema.HTOA1F 1F WHERE 1F.HHTSKU \= ?) 11F LEFT JOIN schema.HTOA2F 2F ON 11F.HHTSKU \= 2F.HHTSKU LEFT JOIN schema.HTOB1F B1F ON 2F.HHTSKU \= B1F.HHTSKU WHERE 2F.HHTSTR \= ?
#hht1045.01.02=select hhtstr sto,hhtsku sku,hhthan inv, null sku_dsc from INTERFACE_STORE_SKU where not (hhtstr \= ?) and hhtsku \= ?
hht1045.01.02=SELECT I.HHTSTR sto,I.HHTSKU sku,I.HHTHAN inv, replace(S.SKU_NAME,'"','') sku_dsc FROM INTERFACE_STORE_SKU I LEFT JOIN INTERFACE_SKU S ON S.SKU_NO=I.HHTSKU WHERE NOT (I.HHTSTR \= ?) AND I.HHTSKU \= ? AND I.HHTHAN > 0 ORDER BY I.HHTSTR 
hht1045.01.03=select '13196' STO,HHTSKU SKU,HHTDSP INV, replace(hhtdsc,'"','') SKU_DSC from schema.htoa2f where HHTSKU \= ? and HHTSTR \= ?

hht1045.02.01=Insert into schema.stk_sku_sto_order(sto_no,sto_no_out,plu_no,stk_order_qty,stk_opr_user,stk_opr_time,oper_status,instno) values(?,?,?,?,?,?,?,?)
hht1045.02.02=SELECT (@rowNO := @rowNo + 1) AS rowno, a.* FROM ( SELECT CONCAT(A1F.HHTSDP,'-',A1F.HHTCLS,'-',A1F.HHTSCL) s_dpt,ssso.PLU_NO sku,a1f.HHTDSC, null outhan, b1f.HHTHAN,b1f.hhtsto,ssso.STK_ORDER_QTY FROM schema.stk_sku_sto_order ssso LEFT JOIN schema.htob1f b1f ON ssso.PLU_NO = b1f.HHTSKU left join schema.htoa1f a1f on a1f.HHTSKU=ssso.PLU_NO WHERE ssso.INSTNO \= ? AND ssso.STO_NO_OUT \= ? order by s_dpt) a, (SELECT @rowNO := 0) b
hht1045.02.03=select HHTHAN FROM INTERFACE_STORE_SKU WHERE HHTSTR \=? AND HHTSKU \= ?
hht1045.03.01=SELECT DATE_FORMAT(stk_opr_time, '%H:%i') stk_opr_time, count(DISTINCT PLU_NO) sku_qty FROM schema.stk_sku_sto_order WHERE date(stk_opr_time) \= ? AND stk_opr_user \= ? GROUP BY STK_OPR_TIME
hht1045.04.01=select stk_sku_sto_order.PLU_NO sku, htoa2f.HHTDSC sku_dsc,stk_sku_sto_order.sto_no_out,stk_sku_sto_order.stk_order_qty,stk_sku_sto_order.instno from schema.stk_sku_sto_order left join schema.htoa2f on stk_sku_sto_order.plu_no = htoa2f.HHTSKU where DATE(stk_sku_sto_order.STK_OPR_TIME) \=? and DATE_FORMAT(stk_sku_sto_order.stk_opr_time, '%H:%i') \= ? and stk_sku_sto_order.STK_OPR_USER \=?

hht1046.01.01=SELECT replace(11F.HHTDSC,'"','') sku_dsc, 11F.HHTSKU sku, 11F.HHTIPC ipc,11F.HHTMIN min_package_num,IFNULL(2F.HHTHFG, 'N') is_hold, 11F.HHTIPC ipc,4f.HHTMAM start_ap,4f.HHTVND vtn_code,IF ((2F.HHTDAC IS NULL),2F.HHTSTS, CONCAT(2F.HHTSTS, '-', 2F.HHTDAC)) status, CONCAT(11F.HHTSDP,'-',11F.HHTCLS,'-',11F.HHTSCL) s_dpt, 2F.HHTLOD last_recipe_date, (IFNULL(B1F.HHTHAN, 0) - IFNULL(SS.SALES_QTY, 0)) inv_no, (2F.HHTSAL + IFNULL(SS.SALES_QTY, 0)) c_week_sale, 2F.HHTLSA l_week_sale, ROUND(2F.HHTAV3, 1) three_week_sale, 2F.HHTDSP hhtdsp ,init.TBLDSC vtn_type_desc,4f.hhtvf5 FROM (SELECT 1F.* FROM schema.HTOA1F 1F WHERE 1F.HHTSKU \= ?) 11F LEFT JOIN schema.HTOA2F 2F ON 11F.HHTSKU = 2F.HHTSKU LEFT JOIN schema.HTOB1F B1F ON 2F.HHTSKU = B1F.HHTSKU LEFT JOIN schema.HTOSALES SS ON B1F.HHTSKU = SS.HHTSKU left join schema.htoa4f 4f on 2F.HHTVND =4f.HHTVND left join schema.hhtinit init on init.TBLVAL = 4f.HHTVTP AND init.TBLNAM ='HHTVTP' WHERE 2F.HHTSTR \= ?
hht1046.02.01=Insert into schema.stk_sku_order(sto_no,plu_no,plu_name,stk_order_qty,stk_opr_user,stk_opr_time,oper_status,instno) values(?,?,?,?,?,?,?,?)

hht1046.02.02=SELECT (@rowNO := @rowNo+1) AS rowno, a.* from (select CONCAT(A1F.HHTSDP,'-',A1F.HHTCLS,'-',A1F.HHTSCL) s_dpt,4f.HHTVND vtn_code,init.TBLDSC vtn_type,sso.PLU_NO sku,A1F.HHTDSC sku_dsc,B1F.HHTHAN hhthan,B1F.HHTSPO po_on_the_way,2F.HHTLSA l_week_sale,ROUND(2F.HHTAV8, 1) five_week_sale,sso.STK_ORDER_QTY stk_order_qty FROM	schema.stk_sku_order sso LEFT JOIN schema.HTOA1F A1F ON sso.PLU_NO = A1F.HHTSKU LEFT JOIN schema.HTOA2F 2F ON A1F.HHTSKU = 2F.HHTSKU LEFT JOIN schema.HTOB1F B1F ON 2F.HHTSKU = B1F.HHTSKU LEFT JOIN schema.htoa4f 4f ON 2F.HHTVND = 4f.HHTVND LEFT JOIN schema.JDAID1DF D1D ON A1F.HHTSKU = D1D.D1SKU LEFT JOIN schema.hhtinit init ON 4f.HHTVTP = init.TBLVAL AND init.TBLNAM = 'HHTVTP' AND init.TBLDEF = 'N' WHERE 2F.HHTSTR \= ? AND sso.instno \= ? AND sso.STK_OPR_USER \= ? GROUP BY sso.PLU_NO order by vtn_code, sku) a,(SELECT @rowNO := 0) b

hht1046.03.01=SELECT DATE_FORMAT(stk_opr_time, '%H:%i') stk_opr_time, count(DISTINCT PLU_NO) sku_qty FROM schema.stk_sku_order WHERE date(stk_opr_time) \= ? AND stk_opr_user \= ? GROUP BY STK_OPR_TIME
hht1046.04.01=select stk_sku_order.PLU_NO sku, htoa2f.HHTDSC sku_dsc,stk_sku_order.stk_order_qty from schema.stk_sku_order left join schema.htoa2f on stk_sku_order.plu_no = htoa2f.HHTSKU where DATE(stk_sku_order.STK_OPR_TIME) \=? and DATE_FORMAT(stk_sku_order.stk_opr_time, '%H:%i') \= ? and stk_sku_order.STK_OPR_USER \=?
hht1047.01.01=SELECT replace(11F.HHTDSC,'"','') sku_dsc,11F.HHTSKU sku,11F.HHTIPC ipc,IFNULL(B1F.HHTHAN, 0) inv_no,IF ((2F.HHTDAC IS NULL),	2F.HHTSTS,CONCAT(2F.HHTSTS, '-', 2F.HHTDAC)) status, CONCAT(11F.HHTSDP,	'-',11F.HHTCLS,'-',11F.HHTSCL) s_dpt FROM (SELECT 1F.*	FROM schema.HTOA1F 1F WHERE 1F.HHTSKU \= ?) 11F LEFT JOIN schema.HTOA2F 2F ON 11F.HHTSKU = 2F.HHTSKU LEFT JOIN schema.HTOB1F B1F ON 2F.HHTSKU = B1F.HHTSKU WHERE 2F.HHTSTR \= ?
hht1047.01.02=SELECT tblval, tbldsc FROM schema.hhtinit WHERE TBLNAM = 'ADJ_REASON' AND TBLDEF = 'N'
hht1047.02.01=Insert into schema.htob2f(STO_NO,PLU_NO,INV_ADJ_NO,INV_ACT_NO,ADJ_REASON,STK_OPR_USER,STK_OPR_TIME,OPER_STATUS,instno) values(?,?,?,?,?,?,?,?,?)
hht1047.02.02=SELECT b2f.PLU_NO sku,a2f.HHTDSC sku_dsc,b1f.HHTHAN,b2f.inv_act_no,b2f.inv_adj_no,init.TBLDSC FROM schema.htob2f b2f LEFT JOIN schema.htoa2f a2f ON b2f.plu_no = a2f.HHTSKU LEFT JOIN schema.htob1f b1f on b1f.HHTSKU = b2f.PLU_NO LEFT JOIN schema.hhtinit init ON init.TBLVAL = b2f.adj_reason AND TBLNAM = 'ADJ_REASON' AND TBLDEF = 'N' WHERE b2f.INSTNO \= ? AND b2f.STK_OPR_USER \= ?

hht1047.02.03=select * from schema.htob2f b2f WHERE DATE(b2f.STK_OPR_TIME) \= ? and b2f.plu_no \= ?
hht1047.02.04=DELETE FROM schema.htob2f WHERE DATE(STK_OPR_TIME) \= ? and stk_opr_user \= ? 

hht1047.03.01=SELECT b2f.PLU_NO sku,a2f.HHTDSC sku_dsc,	b2f.inv_adj_no,	b2f.inv_act_no,	b2f.adj_reason FROM	schema.htob2f b2f LEFT JOIN schema.htoa2f a2f ON b2f.plu_no = a2f.HHTSKU WHERE DATE(b2f.STK_OPR_TIME) \=? and b2f.STK_OPR_USER \=?
hht1047.05.01=SELECT DATE_FORMAT(stk_opr_time, '%m-%d') stk_opr_time, count(DISTINCT PLU_NO) sku_qty FROM schema.htob2f WHERE date(stk_opr_time) \= ? AND stk_opr_user \= ? GROUP BY DATE_FORMAT(stk_opr_time, '%m-%d')

store.01=Select sto_no from hhtserver.sys1000 where ip_addr\=?
hht.instno.list=Select instno from schema.chginst where chgsts \= '1'
test.01=insert into schema.test(hht_cmd,test_time) values(?,?)
hht1035.02.01=select plu_no as sku,plu_name as sku_dsc, stk_order_qty as sku_order_qty from schema.stk_sku_order where sto_no \= ? and stk_opr_user \= ? and stk_opr_time \= ?

hht300.01.01=select sum(total) as \u603b\u5171\u7bb1\u6570,sum(received) as \u5df2\u6536\u7bb1\u6570,(sum(total)-sum(received)) AS \u672a\u6536\u7bb1\u6570 from (select count(1) as total, 0 as received,hhtwav from schema.jdaid2hf where hhtwav \=? group by hhtwav union all select 0 as total, count(1) as received,hhtwav from schema.jdaid2hf where hhtwav \=? and hhtsta\='2' group by hhtwav) as a group by hhtwav
hht300.02.01=select sum(total) as \u603b\u5171\u7bb1\u6570,sum(received) as \u5df2\u6536\u7bb1\u6570,(sum(total)-sum(received)) AS \u672a\u6536\u7bb1\u6570 from ( select count(1) as total, 0 as received,d1wavn from schema.jdaid1hf where d1wavn \=? group by d1wavn union all select 0 as total, count(1) as received,d1wavn from schema.jdaid1hf where d1wavn \=? and d1stat\='5' group by d1wavn) as a group by d1wavn

hht300.03.01=select t.hhtcno, case when t.hhtsta\='2' then '\u5df2\u6536\u8d27' when t.hhtsta in ('0','1') then '\u672a\u6536\u8d27' end as sta from schema.jdaid2hf t where t.hhtwav \=? 
hht300.04.01=select t.d1shnb, case when t.d1stat\='5' then '\u5df2\u6536\u8d27' when t.d1stat in ('3','4') then '\u672a\u6536\u8d27' end as sta from schema.jdaid1hf t where t.d1wavn \=? 
##############for debug##########################################################
hhttest=SELECT sum(d1d.d1reqt) po_on_the_way from schema.jdaid1hf d1h, schema.jdaid1df d1d where d1h.d1shnb \= d1d.d1shnb and d1h.d1stat in('1','2','3') and d1h.d1shtp \= 'PO' and d1d.d1sku \= '000031706' and d1h.d1tolc \= '13101' group by d1d.d1sku
##################################################################################

remote.stkplan.refresh=insert into schema.stk_stkplan_set(stk_no,sto_no,stk_date,stk_type,stk_status,stk_changer,stk_comment,stk_opr_user,stk_opr_time,oper_status) values(?,?,?,?,?,?,?,?,?,'Y')

